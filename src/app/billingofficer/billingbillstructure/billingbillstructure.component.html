<!-- Content Wrapper. Contains page content -->
<div class="content-wrapper" id="smp-content">
  <!-- Main content -->
  <section class="content">
    <div class="container-fluid">
      <!-- Left col -->
      <!-- <div class="col-md-12"> -->
      <!-- MAP & BOX PANE -->
      <div class="card">
        <div class="card-header card-bg ">
          <h3 class="card-title mt-2 ms-3">Bill Structure </h3>
          <!-- <button class="btn btn-sm btn-primary float-right">
            Add New
          </button> -->
        </div>
        <!-- /.card-header -->
        <div class="card-body">
          <div class="row">
            <div class="container">
              <div>
                <!-- <ul *ngIf="showOtherTabs" class="nav nav-tabs tabbing">
                      <li>
                        <a data-toggle="tab" href="#category" class="active">Category</a>
                      </li>
                      <li (click)="showTariff()">
                        <a data-toggle="tab" [ngClass]="{'active': tabName === 'headtariffs'}"
                          href="#headtariffs">Tariff</a>
                      </li>
                      <li>
                        <a data-toggle="tab" [ngClass]="{'active': tabName === 'tab1'}" href="#tab1">Sub-Tariff</a>
                      </li>
                      <li (click)="showDistrict()">
                        <a data-toggle="tab" href="#district">District</a>
                      </li>
                      <li>
                        <a data-toggle="tab" href="#billingGroup">Bill Processing Group</a>
                      </li>
                    </ul> -->
                <div id="tabs" #tabs>

                  <ul class="nav nav-pills">
                    <li class="nav-item mr-5">
                      <a class="nav-link active " href="#category" [ngClass]="{ 'active':activeTab==='category'}"
                        (click)="category('category', $event)" data-toggle="tab">Category</a>
                    </li>
                    <li class="nav-item mr-5">
                      <a class="nav-link" href="#tariff" [ngClass]="{ 'active':activeTab==='tariff'}" data-toggle="tab"
                        (click)="tariff('tariff', $event)">Tariff</a>
                    </li>
                    <li class="nav-item mr-5">
                      <a class="nav-link" href="#subtariff" [ngClass]="{ 'active':activeTab==='subtariff'}"
                        data-toggle="tab" (click)="subtariff('subtariff', $event)">Sub-Tariff</a>
                    </li>
                    <li class="nav-item mr-5">
                      <a class="nav-link" href="#district" [ngClass]="{ 'active':activeTab==='district'}"
                        data-toggle="tab" (click)="district('district', $event)">District</a>
                    </li>
                    <li class="nav-item mr-5">
                      <a class="nav-link" href="#billlingGroup" [ngClass]="{ 'active':activeTab==='billlingGroup'}"
                        data-toggle="tab" (click)="billlingGroup('billlingGroup', $event)">Billing Group</a>
                    </li>

                  </ul>
                  <div class="tab-content">
                    <div class="tab-pane" id="category" [ngClass]="{ 'active':activeTab==='category'}">
                      <!-- <div class="card-header card-bg" style="background-color: #fff;">

                        <button class="btn btn-sm btn-primary float-right" (click)="createAdmin(createAdminModal)">
                          Create Category
                        </button>

                      </div> -->
                      <div class="container-fluid">
                        <div class="">
                          <div class="card-body">
                            <div>
                              <div>
                                <table class="table table-bordered table-sm row-border hover   " id="example2"
                                  *ngIf="categoryListData" datatable [dtOptions]="dtOptions">
                                  <thead style="white-space: nowrap;">
                                    <tr>
                                    
                                      <th>Name</th>
                                      <th>Sub Category Count</th>
                                      <th>Action</th>
                                    </tr>
                                  </thead>
                                  <tbody style="white-space: nowrap;">
                                    <tr *ngFor="let mydata of categoryListData; let i = index">

                                    
                                      <td>{{ mydata.name}} </td>
                                      <td>{{ mydata.sub_category_count}} </td>
                                      <td style="width: 10%">
                                        <button class="btn btn-sm btn-outline-success"
                                          (click)="viewSubCategory(viewSubCategoryModal,mydata)">
                                          <i class="nav-icon fas fa-eye"></i> View
                                        </button>

                                      </td>
                                    </tr>
                                  </tbody>
                                </table>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>

                      <ng-template #viewSubCategoryModal let-modal>
                        <div class="modal-header">
                          <h4 class="modal-title" id="modal-basic-title">Sub Category </h4>

                          <!-- <button class="btn btn-sm btn-primary float-right" (click)="createsubCategory(createsubcategoryModal)">
                            <i class="fas fa-plus-square"></i> Create Sub Category
                          </button> -->
                        </div>
                        <div class="modal-body">
                          <div class="card-body">
                            <div class="table-responsive">
                              <table class="table table-bordered table-sm row-border hover mt-3   " id="example2"
                                *ngIf="subCategoryData" datatable [dtOptions]="dtOptionsPopUp1">
                                <thead style="white-space: nowrap;">
                                  <tr>
                                  
                                    <th>Name</th>
                                    <!-- <th>Action</th>
                                    <th>Delete</th> -->
                                  </tr>
                                </thead>
                                <tbody style="white-space: nowrap;">
                                  <tr *ngFor="let mydata of subCategoryData; let i = index">
                                 
                                    <td>{{ mydata.name}} </td>
                                    <!-- <td style="width: 10%">
                                      <button class="btn btn-sm btn-outline-success"
                                        (click)="onEditsubCategory(vieweditSubcategoryModal,mydata)">
                                        <i class="nav-icon fa fa-pencil"></i> Edit
                                      </button>
                                    </td>
                                    <td style="width: 10%">
                                      <button class="btn btn-danger" (click)="onDeleteItem(mydata)">
                                          <i class="nav-icon fa fa-trash text-white"></i> Delete
                                      </button>
                                  </td> -->

                                  </tr>
                                </tbody>
                              </table>
                            </div>
                          </div>
                        </div>
                        <div class="modal-footer">
                          <button type="button" class="btn btn-outline-dark button-login"
                            (click)="modal.close('Save click')">Close</button>
                        </div>
                      </ng-template>
                      <ng-template #vieweditSubcategoryModal let-modal>
                        <div class="modal-header">
                          <h4 class="modal-title" id="modal-basic-title">Edit Sub Category </h4>
                        </div>
                        <div class="modal-body">
                          <div class="card-body">
                            <div class="table-responsive">
                              <form id="smp-form" autocomplete="off" [formGroup]="editSubcategoryForm">
                                <div class="messages"></div>
                                <div class="controls">
                                  <div class="row">
                                    <div class="col-lg-4 col-sm-12">
                                      <div class="mb-3">
                                        <label for="name" class="form-label">
                                          Name*</label>
                                        <input type="text" formControlName="name" maxlength="30" id="name"
                                          class="form-control" placeholder="Enter Name"
                                          [ngClass]="{ 'is-invalid': submitted && editSubcategoryForm.controls['name'].errors }" />
                                        <div *ngIf="submitted && editSubcategoryForm.controls['name'].errors"
                                          class="form-text text-danger">
                                          <div *ngIf="editSubcategoryForm.controls['name'].errors['required']">
                                            Name is required</div>
                                        </div>
                                      </div>
                                    </div>
                                    <div class="col-lg-4 col-sm-12">
                                      <div class="mb-3">
                                        <label for="name" class="form-label">
                                          Category*</label>
                                          <select name="category" formControlName="category" id="category" class="form-control"
                                          [ngClass]="{ 'is-invalid': submitted && editSubcategoryForm.controls['category'].errors }">
                                          <option value="" disabled="true">Select
                                            Category</option>
                                          <option *ngFor="let mydata of categoryListData" [value]="mydata.id">{{ mydata.name }}
                                          </option>
                                        </select>
                                           <div *ngIf="submitted && editSubcategoryForm.controls['category'].errors"
                                          class="form-text text-danger">
                                          <div *ngIf="editSubcategoryForm.controls['category'].errors['required']">
                                            Category is required</div>
                                        </div>
                                      </div>
                                    </div>

                                    <div class="row">
                                      <div class="col-lg-4 col-sm-12">
                                        <div class="form-group">
                                          <button class="theme_btn tp_two logo-button-website"
                                            (click)="updatesubCategory(editSubcategoryForm.value)" type="submit"><i class="fa fa-pencil"></i>  Update
                                            Sub Category</button>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </form>
                            </div>
                          </div>
                        </div>
                        <div class="modal-footer">
                          <button type="button" class="btn btn-outline-dark button-login"
                            (click)="modal.close('Save click')">Close</button>
                        </div>
                      </ng-template>


                      <ng-template #createsubcategoryModal let-modal>
                        <div class="modal-header">
                          <h4 class="modal-title" id="modal-basic-title">Create Sub Category </h4>
                        </div>
                        <div class="modal-body">
                          <div class="card-body">
                            <div class="table-responsive">
                              <form id="smp-form" autocomplete="off" [formGroup]="createSubcategoryForm">
                                <div class="messages"></div>
                                <div class="controls">
                                  <div class="row">
                                    <div class="col-lg-4 col-sm-12">
                                      <div class="mb-3">
                                        <label for="name" class="form-label">
                                          Name*</label>
                                        <input type="text" formControlName="name" maxlength="30" id="name"
                                          class="form-control" placeholder="Enter Name"
                                          [ngClass]="{ 'is-invalid': submitted && createSubcategoryForm.controls['name'].errors }" />
                                        <div *ngIf="submitted && createSubcategoryForm.controls['name'].errors"
                                          class="form-text text-danger">
                                          <div *ngIf="createSubcategoryForm.controls['name'].errors['required']">
                                            Name is required</div>
                                        </div>
                                      </div>
                                    </div>
                                    <div class="col-lg-4 col-sm-12">
                                      <div class="mb-3">
                                        <label for="name" class="form-label">
                                          Category*</label>
                                          <select name="category" formControlName="category" id="category" class="form-control"
                                          [ngClass]="{ 'is-invalid': submitted && createSubcategoryForm.controls['category'].errors }">
                                          <option value="" disabled="true">Select
                                            Category</option>
                                          <option *ngFor="let mydata of categoryListData" [value]="mydata.id">{{ mydata.name }}
                                          </option>
                                        </select>
                                           <div *ngIf="submitted && createSubcategoryForm.controls['category'].errors"
                                          class="form-text text-danger">
                                          <div *ngIf="createSubcategoryForm.controls['category'].errors['required']">
                                            Category is required</div>
                                        </div>
                                      </div>
                                    </div>

                                    <div class="row">
                                      <div class="col-lg-4 col-sm-12">
                                        <div class="form-group">
                                          <button class="theme_btn tp_two logo-button-website"
                                            (click)="onAddsubCategory(createSubcategoryForm.value)" type="submit"><i class="fas fa-plus-square"></i>  Create
                                            Sub Category</button>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </form>
                            </div>
                          </div>
                        </div>
                        <div class="modal-footer">
                          <button type="button" class="btn btn-outline-dark button-login"
                            (click)="modal.close('Save click')">Close</button>
                        </div>
                      </ng-template>
                      <button type="button" (click)="category('tariff', $event)"></button>
                    </div>
                    <div class="tab-pane" id="tariff" [ngClass]="{ 'active':activeTab==='tariff'}">
                      <!-- <div id="headtariffs" class="tab-pane fade mt-3" style="min-height: 500px"> -->
                      <div class="card-header card-bg" style="background-color: #fff;">

                        <!-- <button class="btn btn-sm btn-primary float-right" (click)="createTariff(createTariffModal)">
                          <i class="fas fa-plus-square"></i>  Create Tariff
                        </button> -->

                      </div>
                      <div class="container-fluid">
                        <div class="">
                          <div class="card-body">
                            <div>
                              <div>
                                <table class="table table-bordered table-sm row-border hover   " id="example2"
                                  *ngIf="tariffListData" datatable [dtOptions]="dtOptions">
                                  <thead style="white-space: nowrap;">
                                    <tr>
                                    
                                      <th>Name</th>
                                      <th>Sub-Tariff Count</th>
                                      <!-- <th>Action</th> -->
                                    </tr>
                                  </thead>
                                  <tbody style="white-space: nowrap;">
                                    <tr *ngFor="let mydata of tariffListData; let i = index">
                                 
                                      <td>{{ mydata.name}} </td>
                                      <td>{{ mydata.sub_tariff_count}} </td>
                                      <!-- <td style="width: 10%">
                                        <button class="btn btn-sm btn-outline-success"
                                          (click)="onEditTariff(vieweditTariffModal,mydata)">
                                          <i class="nav-icon fa fa-pencil"></i> Edit
                                        </button>
                                      </td> -->
                                    </tr>
                                  </tbody>
                                </table>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>

                      <ng-template #vieweditTariffModal let-modal>
                        <div class="modal-header">
                          <h4 class="modal-title" id="modal-basic-title">Edit Tariff </h4>
                        </div>
                        <div class="modal-body">
                          <div class="card-body">
                            <div class="table-responsive">
                              <form id="smp-form" autocomplete="off" [formGroup]="editTariffForm">
                                <div class="messages"></div>
                                <div class="controls">
                                  <div class="row">
                                    <div class="col-lg-4 col-sm-12">
                                      <div class="mb-3">
                                        <label for="name" class="form-label">
                                          Name*</label>
                                        <input type="text" formControlName="name" maxlength="30" id="name"
                                          class="form-control" placeholder="Enter Name"
                                          [ngClass]="{ 'is-invalid': submitted && editTariffForm.controls['name'].errors }" />
                                        <div *ngIf="submitted && editTariffForm.controls['name'].errors"
                                          class="form-text text-danger">
                                          <div *ngIf="editTariffForm.controls['name'].errors['required']">
                                            Name is required</div>
                                        </div>
                                      </div>
                                    </div>

                                    <div class="row">
                                      <div class="col-lg-4 col-sm-12">
                                        <div class="form-group">
                                          <button class="theme_btn tp_two logo-button-website"
                                            (click)="updateAdmin(editTariffForm.value)" type="submit"><i class="fa fa-pencil"></i>  Update
                                            Tariff</button>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </form>
                            </div>
                          </div>
                        </div>
                        <div class="modal-footer">
                          <button type="button" class="btn btn-outline-dark button-login"
                            (click)="modal.close('Save click')">Close</button>
                        </div>
                      </ng-template>

                      <ng-template #createTariffModal let-modal>
                        <div class="modal-header">
                          <h4 class="modal-title" id="modal-basic-title">Create Tariff </h4>
                        </div>
                        <div class="modal-body">
                          <div class="card-body">
                            <form id="smp-form" autocomplete="off" [formGroup]="addTariffForm">
                              <div class="messages"></div>
                              <div class="controls">
                                <br>
                                <div class="row">

                                  <div class="col-lg-4 col-sm-12">
                                    <div class="mb-3">
                                      <label for="name" class="form-label">
                                        Name*</label>
                                      <input type="text" formControlName="name" maxlength="30" id="name"
                                        class="form-control" placeholder="Enter Name"
                                        [ngClass]="{ 'is-invalid': submitted1 && addTariffForm.controls['name'].errors }" />
                                      <div *ngIf="submitted1 && addTariffForm.controls['name'].errors"
                                        class="form-text text-danger">
                                        <div *ngIf="addTariffForm.controls['name'].errors['required']">
                                          Name is required</div>

                                      </div>
                                    </div>
                                  </div>

                                  <div class="row">
                                    <div class="col-lg-4 col-sm-12">
                                      <div class="form-group">
                                        <button class="theme_btn tp_two logo-button-website"
                                          (click)="onAddTariff(addTariffForm.value)" type="submit"><i class="fas fa-plus-square"></i>  Create
                                          Tariff</button>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </form>
                          </div>
                        </div>

                        <div class="modal-footer">
                          <button type="button" class="btn btn-outline-dark button-login"
                            (click)="modal.close('Save click')">Close</button>
                        </div>
                      </ng-template>
                    </div>

                    <div class="tab-pane" id="subtariff" [ngClass]="{ 'active':activeTab==='subtariff'}">
                      <div class="card-header card-bg" style="background-color: #fff;">
                        <!-- <button class="btn btn-sm btn-primary float-right"
                          (click)="createSubTariff(createsubtariffModal)">
                          <i class="fas fa-plus-square"></i>   Create Sub Tariff
                        </button> -->
                      </div>
                      <div class="container-fluid">
                        <div class="">
                          <div class="card-body">
                            <div>
                              <div>
                                <table class="table table-bordered table-sm row-border hover" id="example2"
                                  *ngIf="subtariffData" datatable [dtOptions]="dtOptions">
                                  <thead style="white-space: nowrap;">
                                    <tr>
                                      <th>S/N</th>
                                      <th>Sub-Tariff Name</th>
                                      <th>Tariff Name</th>
                                      <!-- <th>Edit</th> -->
                                    
                                    </tr>
                                  </thead>
                                  <tbody style="white-space: nowrap;">
                                    <tr *ngFor="let mydata of subtariffData; let i = index">
                                      <td> {{i + 1 }} </td>
                                      <td> {{ mydata.name }} </td>
                                      <td> {{ getTariffBytarifId(mydata.tariff_type_id) }} </td>
                                      <!-- <td style="width: 10%">
                                        <button class="btn btn-sm btn-outline-success"
                                          (click)="updateSubTariff(updateSubTariffModal,mydata)">
                                          <i class="nav-icon fa fa-pencil"></i> Edit
                                        </button>
                                      </td> -->
                                     
                                    </tr>
                                  </tbody>
                                </table>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>

                      <ng-template #updateSubTariffModal let-modal>
                        <div class="modal-header">
                          <h4 class="modal-title" id="modal-basic-title">Update Sub-Tariff </h4>
                        </div>
                        <div class="modal-body">
                          <div class="card-body">


                            <form id="smp-form" autocomplete="off" [formGroup]="updatesubTariffForm">
                              <div class="messages"></div>
                              <div class="controls">
                                <br>
                                <div class="row">
                                  <div class="col-lg-4 col-sm-12">
                                    <div class="mb-3">
                                      <label for="name" class="form-label">
                                        Name*</label>
                                      <input type="text" formControlName="name" maxlength="30" id="name"
                                        class="form-control" placeholder="Enter Name"
                                        [ngClass]="{ 'is-invalid': updateSubTariffSubmit && updatesubTariffForm.controls['name'].errors }" />
                                      <div *ngIf="updateSubTariffSubmit && updatesubTariffForm.controls['name'].errors"
                                        class="form-text text-danger">
                                        <div *ngIf="updatesubTariffForm.controls['name'].errors['required']">
                                          Name is required</div>
                                      </div>
                                    </div>
                                  </div>


                                  <div class="row">
                                    <div class="col-lg-4 col-sm-12">
                                      <div class="form-group">
                                        <button class="theme_btn tp_two logo-button-website"
                                          (click)="onEditsubTariff(updatesubTariffForm.value)" type="submit"><i class="fas fa-plus-square"></i>  Update
                                          Sub-Tariff</button>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </form>
                          </div>
                        </div>

                        <div class="modal-footer">
                          <button type="button" class="btn btn-outline-dark button-login"
                            (click)="modal.close('Save click')">Close</button>
                        </div>
                      </ng-template>
                      <ng-template #createsubtariffModal let-modal>
                        <div class="modal-header">
                          <h4 class="modal-title" id="modal-basic-title">Create Sub-Tariff </h4>
                        </div>
                        <div class="modal-body">
                          <div class="card-body">


                            <form id="smp-form" autocomplete="off" [formGroup]="subTariffForm">
                              <div class="messages"></div>
                              <div class="controls">
                                <br>
                                <div class="row">
                                  <div class="col-lg-4 col-sm-12">
                                    <div class="mb-3">
                                      <label for="name" class="form-label">
                                        Name*</label>
                                      <input type="text" formControlName="name" maxlength="30" id="name"
                                        class="form-control" placeholder="Enter Name"
                                        [ngClass]="{ 'is-invalid': submitted1 && subTariffForm.controls['name'].errors }" />
                                      <div *ngIf="submitted1 && subTariffForm.controls['name'].errors"
                                        class="form-text text-danger">
                                        <div *ngIf="subTariffForm.controls['name'].errors['required']">
                                          Name is required</div>
                                      </div>
                                    </div>
                                  </div>

                                  <div class="col-lg-4 col-sm-12">
                                    <div class="mb-3">
                                      <label for="name" class="form-label">
                                        Tariff*</label>
                                        <select name="tariff" formControlName="tariff" id="tariff" class="form-control"
                                        [ngClass]="{ 'is-invalid': submitted1 && subTariffForm.controls['tariff'].errors }">
                                        <option value="" disabled="true">Select
                                          Tariff</option>
                                        <option *ngFor="let mydata of tariffListData" [value]="mydata.id">{{ mydata.name }}
                                        </option>
                                      </select>
                                         <div *ngIf="submitted1 && subTariffForm.controls['tariff'].errors"
                                        class="form-text text-danger">
                                        <div *ngIf="subTariffForm.controls['tariff'].errors['required']">
                                          Tariff is required</div>
                                      </div>
                                    </div>
                                  </div>

                                  <div class="row">
                                    <div class="col-lg-4 col-sm-12">
                                      <div class="form-group">
                                        <button class="theme_btn tp_two logo-button-website"
                                          (click)="onAddsubTariff(subTariffForm.value)" type="submit"><i class="fas fa-plus-square"></i>  Create
                                          Sub-Tariff</button>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </form>
                          </div>
                        </div>

                        <div class="modal-footer">
                          <button type="button" class="btn btn-outline-dark button-login"
                            (click)="modal.close('Save click')">Close</button>
                        </div>
                      </ng-template>
                      <button type="button" (click)="district('district', $event)"></button>
                    </div>

                    <div class="tab-pane" id="district" [ngClass]="{ 'active':activeTab==='district'}">
                      <div class="card-header card-bg" style="background-color: #fff;">
                        <!-- <button class="btn btn-sm btn-primary float-right"
                          (click)="createDistrict(createDistrictModal)">
                          <i class="fas fa-plus-square"></i>  Create District
                        </button> -->
                      </div>
                      <div class="container-fluid">
                        <div class="">
                          <div class="card-body">
                            <div class="col-auto mbm-30">
                              <div class="row m-35" *ngIf="districtListData">
                                <div class="col-sm-4" style="z-index: 1;">
                                  <span>Show &nbsp; </span>
                                  <select (change)="setItemsPerPageDistrict(page.value)" #page>
                                    <option [selected]="currentPageLength == 10">10</option>
                                    <option [selected]="currentPageLength == 30">30</option>
                                    <option [selected]="currentPageLength == 50">50</option>
                                    <option [selected]="currentPageLength == 100">100</option>
                                    <option [selected]="currentPageLength == 500">500</option>
                                    <option [selected]="currentPageLength == 1000">1000</option>
                                  </select>
                                  <span> &nbsp; entries </span>
                                </div>
                              </div>
                            </div>

                            <div>
                              <div>
                                <table class="table table-bordered table-sm    row-border hover mt-4" id="example2" *ngIf="districtListData"
                                  datatable [dtOptions]="dtOptions">
                                  <thead style="white-space: nowrap;">
                                    <tr>
                                    
                                      <th>District Name</th>
                                      <th>Local Government Name</th>
                                      <th>Zones Count</th>
                                      <!-- <th>Action</th>-->
                                      <th>View</th> 
                                    </tr>
                                  </thead>
                                  <tbody style="white-space: nowrap;">
                                    <tr *ngFor="let mydata of districtListData | paginate : config; let i = index">
                                    
                                      <td>{{ mydata.name}} </td>
                                      <td>{{ mydata.local_government.name }} </td>
                                      <td>{{ mydata.zones_count}} </td>
                                      <!-- <td style="width: 10%">
                                        <button class="btn btn-sm btn-outline-success"
                                          (click)="onEditDistrict(updateDistrictModal,mydata)">
                                          <i class="nav-icon fa fa-pencil"></i> Edit
                                        </button>
                                      </td>-->
                                      <td style="width: 10%">
                                        <button class="btn btn-sm btn-outline-success"
                                          (click)="viewDistZones(viewDistrictZoneModal,mydata)">
                                          <i class="nav-icon fas fa-eye"></i> View
                                        </button>
                                      </td> 
                                    </tr>
                                  </tbody>
                                </table>
                              </div>

                              <div class="row m-0 mt-3">
                                <div class="col-sm-6">
                                  <div id="page_info" class="record-show-text-bottom" *ngIf="districtListData">

                                    Showing  {{ (config.currentPage - 1) * config.itemsPerPage + 1 }} -
                                    {{ config.currentPage * config.itemsPerPage }} &nbsp; of
                                    &nbsp;{{ config.totalItems }}
                                    &nbsp; entries
                                  </div>
                                </div>
                                <div class="col-sm-6">
                                  <div *ngIf="districtListData">
                                    <pagination-controls (pageChange)="pageChange($event)" class="float-right">
                                    </pagination-controls>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>

                       <ng-template #viewDistrictZoneModal let-modal>
                        <div class="modal-header" id="districtZones">
                          <h4 class="modal-title" id="modal-basic-title">District Zones</h4>
                          <!-- <button class="btn btn-sm btn-primary float-right"
                          (click)="createDistrictZones(createDisttZonesModal)">
                          <i class="fas fa-plus-square"></i>   Create District Zone
                        </button> -->
                        </div>
                        <div class="modal-body">
                          <div class="card-body">
                            <div class="table-responsive">
                              <table class="table table-bordered table-sm row-border hover mt-3" id="example2"
                                *ngIf="singleDistrictzoneData" datatable [dtOptions]="dtOptionsPopUpDistZones">
                                <thead style="white-space: nowrap;">
                                  <tr>
                                 
                                    <th>Zone Name</th>
                                    <th>No. of Round</th>
                                    <!-- <th>Edit</th>-->
                                    <th>Action</th> 
                                  </tr>
                                </thead>
                                <tbody style="white-space: nowrap;">
                                  <tr
                                    *ngFor="let mydata of singleDistrictzoneData | paginate : configDistZone; let i = index">
                                    
                                    <td>{{ mydata.name}} </td>
                                    <td>{{ mydata.cells_count }} </td>
                                    <!-- <td style="width: 10%">
                                      <button class="btn btn-sm btn-outline-success"
                                           (click)="viewEditSingleZone(vieweditZoneDistrictModal,mydata)">
                                        <i class="nav-icon fa fa-pencil"></i> Edit
                                      </button>
                                    </td>-->
                                    <td style="width: 10%">
                                      <button class="btn btn-sm btn-outline-success"
                                        (click)="viewSingleZone(viewsingleZoneModal,mydata)">
                                        <i class="nav-icon fas fa-eye"></i> View
                                      </button>
                                      </td> 
                                  </tr>
                                </tbody>
                              </table>
                            </div>
                            <div class="row m-0 mt-3">
                              <div class="col-sm-6">
                                <div id="page_info" class="record-show-text-bottom" *ngIf="singleDistrictzoneData">

                                  Showing  {{ (configDistZone.currentPage - 1) * configDistZone.itemsPerPage + 1 }} -
                                  {{ configDistZone.currentPage * configDistZone.itemsPerPage }} &nbsp; of
                                  &nbsp;{{ configDistZone.totalItems }}
                                  &nbsp; entries
                                </div>
                              </div>
                              <div class="col-sm-6">
                                <div *ngIf="singleDistrictzoneData">
                                  <pagination-controls id="distZonePaging" (pageChange)="pageChange($event)" class="float-right">
                                  </pagination-controls>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="modal-footer">
                          <button type="button" class="btn btn-outline-dark button-login"
                            (click)="modal.close('Save click');clearPAge()">Close</button>
                        </div>
                      </ng-template> 

                      <ng-template #createDisttZonesModal let-modal>
                        <div class="modal-header">
                          <h4 class="modal-title" id="modal-basic-title">Create Zone </h4>
                        </div>
                        <div class="modal-body">
                          <div class="card-body">


                            <form id="smp-form" autocomplete="off" [formGroup]="createZoneDistrictForm">
                              <div class="messages"></div>
                              <div class="controls">
                                <br>
                                <div class="row">
                                  <div class="col-lg-4 col-sm-12">
                                    <div class="mb-3">
                                      <label for="name" class="form-label">
                                        Name*</label>
                                      <input type="text" formControlName="name" maxlength="30" id="name"
                                        class="form-control" placeholder="Enter Name"
                                        [ngClass]="{ 'is-invalid': submittedZoneDistrict && createZoneDistrictForm.controls['name'].errors }" />
                                      <div *ngIf="submittedZoneDistrict && createZoneDistrictForm.controls['name'].errors"
                                        class="form-text text-danger">
                                        <div *ngIf="createZoneDistrictForm.controls['name'].errors['required']">
                                          Name is required</div>
                                      </div>
                                    </div>
                                  </div>

                                 

                                  <div class="row">
                                    <div class="col-lg-4 col-sm-12">
                                      <div class="form-group">
                                        <button class="theme_btn tp_two logo-button-website"
                                          (click)="onAddzoneDistt(createZoneDistrictForm.value)" type="submit"><i class="fas fa-plus-square"></i>  Create
                                          Zones District</button>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </form>
                          </div>
                        </div>

                        <div class="modal-footer">
                          <button type="button" class="btn btn-outline-dark button-login"
                            (click)="modal.close('Save click')">Close</button>
                        </div>
                      </ng-template>

                      <ng-template #vieweditZoneDistrictModal let-modal>
                        <div class="modal-header">
                          <h4 class="modal-title" id="modal-basic-title">Edit Zone </h4>
                        </div>
                        <div class="modal-body">
                          <div class="card-body">


                            <form id="smp-form" autocomplete="off" [formGroup]="editZoneDistrictForm">
                              <div class="messages"></div>
                              <div class="controls">
                                <br>
                                <div class="row">
                                  <div class="col-lg-4 col-sm-12">
                                    <div class="mb-3">
                                      <label for="name" class="form-label">
                                        Name*</label>
                                      <input type="text" formControlName="name" maxlength="30" id="name"
                                        class="form-control" placeholder="Enter Name"
                                        [ngClass]="{ 'is-invalid': submittededitZoneDistrict && editZoneDistrictForm.controls['name'].errors }" />
                                      <div *ngIf="submittededitZoneDistrict && editZoneDistrictForm.controls['name'].errors"
                                        class="form-text text-danger">
                                        <div *ngIf="editZoneDistrictForm.controls['name'].errors['required']">
                                          Name is required</div>
                                      </div>
                                    </div>
                                  </div>

                                 

                                  <div class="row">
                                    <div class="col-lg-4 col-sm-12">
                                      <div class="form-group">
                                        <button class="theme_btn tp_two logo-button-website"
                                          (click)="oneditzoneDistt(editZoneDistrictForm.value)" type="submit"><i class="fas fa-plus-square"></i>  Edit
                                          Zones District</button>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </form>
                          </div>
                        </div>

                        <div class="modal-footer">
                          <button type="button" class="btn btn-outline-dark button-login"
                            (click)="modal.close('Save click')">Close</button>
                        </div>
                      </ng-template> 
                      <ng-template #viewsingleZoneModal let-modal>
                        <div class="modal-header">
                          <h4 class="modal-title" id="modal-basic-title">Zone Rounds</h4>
                          <!-- <button class="btn btn-sm btn-primary float-right"
                          (click)="createRound(createRoundModal)">
                          <i class="fas fa-plus-square"></i>   Create Round
                        </button> -->
                        </div>

                        <div class="modal-body mt-4">
                          <div class="card-body">
                            <div class="c-list-description p-0" *ngIf="singleZoneData">
                              <div>
                                <div class="c-list-description-section">
                                 
                                  <div class="c-list mb-3 border-bottom">
                                    <div class="c-list-text-special-left"><strong>District </strong></div>
                                    <div class="c-list-text-special-right"><strong class="text-p">{{singleZoneData?.district_name }}</strong></div>
                                  </div>
                                  <div class="c-list mb-3 border-bottom">
                                    <div class="c-list-text-special-left"><strong>Zone </strong></div>
                                    <div class="c-list-text-special-right"><strong class="text-p">{{singleZoneData?.zone_name }}</strong></div>
                                  </div>
                                  <div class="c-list mb-3 border-bottom">
                                    <div class="c-list-text-special-left"><strong>Local Goverment </strong></div>
                                    <div class="c-list-text-special-right"><strong class="text-p">{{singleZoneData?.local_government_name }}</strong></div>
                                  </div>
                                
                       
                      
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>


                        <div class="modal-body">
                          <div class="card-body">
                            <div class="table-responsive">
                              <table class="table table-bordered table-sm row-border hover mt-3" id="example2"
                                *ngIf="singlezoneData" datatable [dtOptions]="dtOptionsPopUpDistZones">
                                <thead style="white-space: nowrap;">
                                  <tr>
                                    <th>Round Code</th>
                                    <th>Round Name</th>
                                    <!-- <th>Edit</th> -->
                                    
                                  </tr>
                                </thead>
                                <tbody style="white-space: nowrap;">
                                  <tr
                                  *ngFor="let mydata of singlezoneData | paginate : configZone; let i = index">
                                    <td>{{ "NIL" }} </td>
                                    <td>{{ mydata.name}} </td>
                                    <!-- <td style="width: 10%">
                                      <button class="btn btn-sm btn-outline-success"
                                           (click)="viewEditRound(viewEditRoundModal,mydata)">
                                        <i class="nav-icon fa fa-pencil"></i> Edit
                                      </button>
                                    </td> -->
                                   
                                  </tr>
                                </tbody>
                              </table>
                            </div>
                            <div class="row m-0 mt-3">
                              <div class="col-sm-6">
                                <div id="page_info" class="record-show-text-bottom" *ngIf="singlezoneData">

                                  Showing  {{ (configZone.currentPage - 1) * configZone.itemsPerPage + 1 }} -
                                  {{ configZone.currentPage * configZone.itemsPerPage }} &nbsp; of
                                  &nbsp;{{ configZone.totalItems }} 
                                  &nbsp; entries
                                </div>
                              </div>
                              <div class="col-sm-6">
                                <div *ngIf="singlezoneData">
                                  <pagination-controls id="zonePaging"  (pageChange)="pageChange($event)" class="float-right">
                                  </pagination-controls>
                              
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="modal-footer">
                          <button type="button" class="btn btn-outline-dark button-login"
                            (click)="modal.close('Save click');clearPAge()">Close</button>
                        </div>
                      </ng-template> 

                      <ng-template #createRoundModal let-modal>
                        <div class="modal-header">
                          <h4 class="modal-title" id="modal-basic-title">Create Round </h4>
                        </div>
                        <div class="modal-body">
                          <div class="card-body">


                            <form id="smp-form" autocomplete="off" [formGroup]="createRoundForm">
                              <div class="messages"></div>
                              <div class="controls">
                                <br>
                                <div class="row">
                                  <div class="col-lg-4 col-sm-12">
                                    <div class="mb-3">
                                      <label for="name" class="form-label">
                                        Name*</label>
                                      <input type="text" formControlName="name" maxlength="30" id="name"
                                        class="form-control" placeholder="Enter Name"
                                        [ngClass]="{ 'is-invalid': submittedRound && createRoundForm.controls['name'].errors }" />
                                      <div *ngIf="submittedRound && createRoundForm.controls['name'].errors"
                                        class="form-text text-danger">
                                        <div *ngIf="createRoundForm.controls['name'].errors['required']">
                                          Name is required</div>
                                      </div>
                                    </div>
                                  </div>

                                 

                                  <div class="row">
                                    <div class="col-lg-4 col-sm-12">
                                      <div class="form-group">
                                        <button class="theme_btn tp_two logo-button-website"
                                          (click)="onAddRound(createRoundForm.value)" type="submit"><i class="fas fa-plus-square"></i>  Create
                                         Round</button>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </form>
                          </div>
                        </div>

                        <div class="modal-footer">
                          <button type="button" class="btn btn-outline-dark button-login"
                            (click)="modal.close('Save click')">Close</button>
                        </div>
                      </ng-template>

                      
                      <ng-template #viewEditRoundModal let-modal>
                        <div class="modal-header">
                          <h4 class="modal-title" id="modal-basic-title">Update Round </h4>
                        </div>
                        <div class="modal-body">
                          <div class="card-body">


                            <form id="smp-form" autocomplete="off" [formGroup]="updteRoundForm">
                              <div class="messages"></div>
                              <div class="controls">
                                <br>
                                <div class="row">
                                  <div class="col-lg-4 col-sm-12">
                                    <div class="mb-3">
                                      <label for="name" class="form-label">
                                        Name*</label>
                                      <input type="text" formControlName="name" maxlength="30" id="name"
                                        class="form-control" placeholder="Enter Name"
                                        [ngClass]="{ 'is-invalid': submittededitRound && updteRoundForm.controls['name'].errors }" />
                                      <div *ngIf="submittededitRound && updteRoundForm.controls['name'].errors"
                                        class="form-text text-danger">
                                        <div *ngIf="updteRoundForm.controls['name'].errors['required']">
                                          Name is required</div>
                                      </div>
                                    </div>
                                  </div>

                                 

                                  <div class="row">
                                    <div class="col-lg-4 col-sm-12">
                                      <div class="form-group">
                                        <button class="theme_btn tp_two logo-button-website"
                                          (click)="updateRound(updteRoundForm.value)" type="submit"><i class="fas fa-plus-square"></i>  Update
                                         Round</button>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </form>
                          </div>
                        </div>

                        <div class="modal-footer">
                          <button type="button" class="btn btn-outline-dark button-login"
                            (click)="modal.close('Save click')">Close</button>
                        </div>
                      </ng-template>
                      <!-- <ng-template #viewDistrictZoneModal let-modal>
                        <div class="modal-header">
                          <h4 class="modal-title" id="modal-basic-title">District Zones </h4>
                        </div>
                        <div class="modal-body">
                          <div class="card-body">
                            <div class="c-list-description p-0" *ngIf="singleDistrictzoneData">
                              <div>
                                <div class="c-list-description-section">
                                  <div class="c-list mb-3 border-bottom">
                                    <div class="c-list-text-special-left"><strong>District Id</strong></div>
                                    <div class="c-list-text-special-right"><strong class="text-p">{{singleDistrictzoneData.id}}</strong></div>
                                  </div>
                                  <div class="c-list mb-3 border-bottom">
                                    <div class="c-list-text-special-left"><strong>District Name</strong></div>
                                    <div class="c-list-text-special-right"><strong class="text-p">{{singleDistrictzoneData.name }}</strong></div>
                                  </div>
                                  <div class="c-list mb-3 border-bottom">
                                    <div class="c-list-text-special-left"><strong>Cell Count</strong></div>
                                    <div class="c-list-text-special-right"><strong class="text-p">{{singleDistrictzoneData.cells_count }}</strong></div>
                                  </div>
                                  
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      
                        <div class="modal-footer">
                          <button type="button" class="btn btn-outline-dark button-login" (click)="modal.close('Save click')">Close</button>
                        </div>
                      </ng-template> -->

                      <ng-template #createDistrictModal let-modal>
                        <div class="modal-header">
                          <h4 class="modal-title" id="modal-basic-title">Create District </h4>
                        </div>
                        <div class="modal-body">
                          <div class="card-body">
                            <form id="smp-form" autocomplete="off" [formGroup]="districtForm">
                              <div class="messages"></div>
                              <div class="controls">
                                <br>
                                <div class="row">
                                  <div class="col-lg-4 col-sm-12">
                                    <div class="mb-3">
                                      <label for="name" class="form-label">
                                        Name*</label>
                                      <input type="text" formControlName="name" maxlength="30" id="name"
                                        class="form-control" placeholder="Enter Name"
                                        [ngClass]="{ 'is-invalid': submitted1 && districtForm.controls['name'].errors }" />
                                      <div *ngIf="submitted1 && districtForm.controls['name'].errors"
                                        class="form-text text-danger">
                                        <div *ngIf="districtForm.controls['name'].errors['required']">
                                          Name is required</div>
                                      </div>
                                    </div>
                                  </div>

                                  <div class="col-lg-4 col-sm-12">
                                    <div class="mb-3">
                                      <label for="name" class="form-label">
                                        Local Government*</label>
                                      <select type="text" name="localGovt" id="localGovt" formControlName="localGovt"
                                        [ngClass]="{ 'is-invalid': submitted1 && districtForm.controls['localGovt'].errors  }"
                                        class="form-control">
                                        <option value="" disabled="true">Select Local Government</option>
                                        <option *ngFor="let data of localGovtData" [value]="data.id">
                                          {{ data.name }}
                                        </option>
                                      </select>
                                      <div *ngIf="submitted1 && districtForm.controls['localGovt'].errors"
                                        class="form-text text-danger">
                                        <div *ngIf="districtForm.controls['localGovt'].errors['required']">
                                          Local Government is required</div>
                                      </div>
                                    </div>
                                  </div>

                                  <div class="row">
                                    <div class="col-lg-4 col-sm-12">
                                      <div class="form-group">
                                        <button class="theme_btn tp_two logo-button-website"
                                          (click)="onAddDistrict(districtForm.value)" type="submit"><i class="fas fa-plus-square"></i>  Create
                                          District</button>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </form>
                          </div>
                        </div>

                        <div class="modal-footer">
                          <button type="button" class="btn btn-outline-dark button-login"
                            (click)="modal.close('Save click')">Close</button>
                        </div>
                      </ng-template>

                      <ng-template #updateDistrictModal let-modal>
                        <div class="modal-header">
                          <h4 class="modal-title" id="modal-basic-title">Update District </h4>
                        </div>
                        <div class="modal-body">
                          <div class="card-body">
                            <form id="smp-form" autocomplete="off" [formGroup]="editdistrictForm">
                              <div class="messages"></div>
                              <div class="controls">
                                <br>
                                <div class="row">
                                  <div class="col-lg-4 col-sm-12">
                                    <div class="mb-3">
                                      <label for="name" class="form-label">
                                        Name*</label>
                                      <input type="text" formControlName="name" maxlength="30" id="name"
                                        class="form-control" placeholder="Enter Name"
                                        [ngClass]="{ 'is-invalid': submitted1 && editdistrictForm.controls['name'].errors }" />
                                      <div *ngIf="submitted1 && editdistrictForm.controls['name'].errors"
                                        class="form-text text-danger">
                                        <div *ngIf="editdistrictForm.controls['name'].errors['required']">
                                          Name is required</div>
                                      </div>
                                    </div>
                                  </div>

                                  <div class="col-lg-4 col-sm-12">
                                    <div class="mb-3">
                                      <label for="name" class="form-label">
                                        Local Government*</label>
                                      <select type="text" name="localGovt" id="localGovt" formControlName="localGovt"
                                        [ngClass]="{ 'is-invalid': submitted1 && editdistrictForm.controls['localGovt'].errors  }"
                                        class="form-control">
                                        <option value="" disabled="true">Select Local Government</option>
                                        <option *ngFor="let data of localGovtData" [value]="data.id">
                                          {{ data.name }}
                                        </option>
                                      </select>
                                      <div *ngIf="submitted1 && editdistrictForm.controls['localGovt'].errors"
                                        class="form-text text-danger">
                                        <div *ngIf="editdistrictForm.controls['localGovt'].errors['required']">
                                          Local Government is required</div>
                                      </div>
                                    </div>
                                  </div>

                                  <div class="row">
                                    <div class="col-lg-4 col-sm-12">
                                      <div class="form-group">
                                        <button class="theme_btn tp_two logo-button-website"
                                          (click)="updateDistt(editdistrictForm.value)" type="submit"><i class="fa fa-pencil"></i> Update
                                          District</button>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </form>
                          </div>
                        </div>

                        <div class="modal-footer">
                          <button type="button" class="btn btn-outline-dark button-login"
                            (click)="modal.close('Save click')">Close</button>
                        </div>
                      </ng-template>
                    </div>

                    <div class="tab-pane" id="billlingGroup" [ngClass]="{ 'active':activeTab==='billlingGroup'}">
                      <div class="card-header card-bg" style="background-color: #fff;">
                        <!-- <button class="btn btn-sm btn-primary float-right" (click)="createBilling(createBillingModal)">
                          <i class="fas fa-plus-square"></i> Create Billing Group
                        </button> -->
                      </div>
                      <div class="container-fluid">
                        <div class="">
                          <div class="card-body">

                            <div class="col-auto mbm-30">
                              <div class="row m-35" *ngIf="billingListData">
                                <div class="col-sm-4" style="z-index: 1;">
                                  <span>Show &nbsp; </span>
                                  <select (change)="setItemsPerPageBilling(page.value)" #page>
                                    <option [selected]="currentBillingPageLength == 10">10</option>
                                    <option [selected]="currentBillingPageLength == 30">30</option>
                                    <option [selected]="currentBillingPageLength == 50">50</option>
                                    <option [selected]="currentBillingPageLength == 100">100</option>
                                    <option [selected]="currentBillingPageLength == 500">500</option>
                                    <option [selected]="currentBillingPageLength == 1000">1000</option>
                                  </select>
                                  <span> &nbsp; entries </span>
                                </div>
                              </div>
                            </div>
                            <div>
                              <div>
                                <table class="table table-bordered table-sm row-border hover mt-4 table-responsive" id="example2" *ngIf="billingListData"
                                  datatable [dtOptions]="dtOptions">
                                  <thead style="white-space: nowrap;">
                                    <tr>
                                     
                                      <th>Bill Group Name </th>
                                      <th>Bill Type </th>
                                      <th>Billing Cycle </th>
                                      <th>Computation Type</th>
                                      <th>Consumer Category </th>
                                      <th>Consumer Sub Category </th>
                                      <th>Sub Bill Type </th>
                                      <th>Tariff Type</th>
                                      <th>Sub-Tariff Type</th>
                                      <th>Type</th>
                                      <th>Rate ()</th>
                                      <!-- <th>Action</th> -->
                                    </tr>
                                  </thead>
                                  <tbody style="white-space: nowrap;">
                                    <tr *ngFor="let mydata of billingListData | paginate : config; let i = index">
                                   
                                      <td>{{ mydata.name}} </td>
                                      <td>{{ mydata.bill_type_name}} </td>
                                      <td>{{ mydata.billing_cycle_name }} </td>
                                      <td>{{ mydata.computation_type_name}} </td>
                                      <td>{{ mydata.consumer_category_name}} </td>
                                      <td>{{ mydata.consumer_sub_category_name}} </td>
                                      <td>{{ mydata.sub_bill_type_name}} </td>
                                      <td>{{ mydata.tariff_type_name}} </td>
                                      <td>{{ mydata.sub_tariff_type_name}} </td>
                                      <td>{{ mydata.type}} </td>
                                      <td>{{ ""}} {{ mydata.rate | number:'1.0':'en-US' }} </td>
                                      <!-- <td style="width: 10%">
                                        <button class="btn btn-sm btn-outline-success"
                                          (click)="onEditBill(updateBillingModal,mydata)">
                                          <i class="nav-icon fa fa-pencil"></i> Edit
                                        </button>
                                      </td> -->
                                    </tr>
                                  </tbody>
                                </table>
                              </div>

                              <div class="row m-0 mt-3">
                                <div class="col-sm-6">
                                  <div id="page_info" class="record-show-text-bottom" *ngIf="billingListData">

                                    Showing {{ (config.currentPage - 1) * config.itemsPerPage + 1 }} -
                                    {{ config.currentPage * config.itemsPerPage }} &nbsp; of
                                    &nbsp;{{ config.totalItems }}
                                    &nbsp; entries
                                  </div>
                                </div>
                                <div class="col-sm-6">
                                  <div *ngIf="billingListData">
                                    <pagination-controls (pageChange)="pageChange($event)" class="float-right">
                                    </pagination-controls>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>

                      <ng-template #createBillingModal let-modal>
                        <div class="modal-header">
                          <h4 class="modal-title" id="modal-basic-title">Create Billing Group</h4>
                        </div>
                        <div class="modal-body">
                          <div class="card-body">
                            <form id="smp-form" autocomplete="off" [formGroup]="billingGroupForm">
                              <div class="messages"></div>
                              <div class="controls">
                                <br>
                                <div class="row">
                                  <div class="col-lg-4 col-sm-12">
                                    <div class="mb-3">
                                      <label for="billtype" class="form-label">
                                        Bill Type*</label>
                                      <select type="text" name="billtype" (change)="onChangeBill($event)" id="billtype"
                                        formControlName="billtype" [ngClass]="{'is-invalid':
                                        submitted3 && billingGroupForm.controls['billtype'].errors
                                        }" class="form-control">
                                        <option value=""  disabled="true">Select Bill Type</option>
                                        <option *ngFor="let data of billTypes" [value]="data.id">
                                          {{ data.name }}
                                        </option>
                                      </select>
                                      <div *ngIf="submitted3 && billingGroupForm.controls['billtype'].errors"
                                        class="form-text text-danger">
                                        <div *ngIf="billingGroupForm.controls['billtype'].errors['required']">
                                          Type is required</div>

                                      </div>
                                    </div>
                                  </div>
                                  <!-- <div class="col-lg-4 col-sm-12">
                                    <div class="mb-3">
                                      <label for="type" class="form-label">
                                        Type*</label>
                                      <select type="text" name="type" id="type" formControlName="type"
                                        [ngClass]="{'is-invalid':submitted3 && billingGroupForm.controls['type'].errors }"
                                        class="form-control">
                                        <option value="" disabled="true">Select Type</option>
                                        <option value="CONSUMPTION">CONSUMPTION</option>
                                        <option value="OTHERS">OTHERS</option>
                                      </select>
                                      <div *ngIf="submitted3 && billingGroupForm.controls['type'].errors"
                                        class="form-text text-danger">
                                        <div *ngIf="billingGroupForm.controls['type'].errors['required']">
                                          Type is required</div>

                                      </div>
                                    </div>
                                  </div> -->

                                  <div class="col-lg-4 col-sm-12">
                                    <div class="mb-3">
                                      <label for="name" class="form-label">
                                        Name*</label>
                                      <input type="text" formControlName="name" id="name" class="form-control"
                                        placeholder="Enter Name" [ngClass]="{
                                          'is-invalid':
                                          submitted3 && billingGroupForm.controls['name'].errors
                                        }" />
                                      <div *ngIf="submitted3 && billingGroupForm.controls['name'].errors"
                                        class="form-text text-danger">
                                        <div *ngIf="billingGroupForm.controls['name'].errors['required']">
                                          Name is required</div>
                                      </div>
                                    </div>
                                  </div>

                                  <div class="col-lg-4 col-sm-12">
                                    <div class="mb-3">
                                      <label for="subBillTypes" class="form-label">
                                        Sub-Bill Type*</label>
                                      <select type="text" name="subBillTypes" id="subBillTypes"
                                        formControlName="subBillTypes" [ngClass]="{'is-invalid':
                                         submitted3 && billingGroupForm.controls['subBillTypes'].errors
                                             }" class="form-control">
                                        <option value=""  disabled="true">Select Sub-Bill Type</option>
                                        <option *ngFor="let data of subbillTypes" [value]="data.id">
                                          {{ data.name }}
                                        </option>
                                      </select>
                                      <div *ngIf="submitted3 && billingGroupForm.controls['subBillTypes'].errors"
                                        class="form-text text-danger">
                                        <div *ngIf="billingGroupForm.controls['subBillTypes'].errors['required']">
                                          Sub-bill Type is required</div>
                                      </div>
                                    </div>
                                  </div>

                                  <div class="col-lg-4 col-sm-12">
                                    <div class="mb-3">
                                      <label for="consumercategory" class="form-label">
                                        Consumer Category Type*</label>
                                      <select type="text" name="consumercategory" id="consumercategory"
                                        (change)="onChange($event)" formControlName="consumercategory" [ngClass]="{'is-invalid':
                                        submitted3 && billingGroupForm.controls['consumercategory'].errors
                                           }" class="form-control">
                                        <option value="" disabled="true">Select Consumer Category Type</option>
                                        <option *ngFor="let data of consumercatgryTypes" [value]="data.id">
                                          {{ data.name }}
                                        </option>
                                      </select>
                                      <div *ngIf="submitted3 && billingGroupForm.controls['consumercategory'].errors"
                                        class="form-text text-danger">
                                        <div *ngIf="billingGroupForm.controls['consumercategory'].errors['required']">
                                          Consumer Category Type is required</div>
                                      </div>
                                    </div>
                                  </div>

                                  <div class="col-lg-4 col-sm-12">
                                    <div class="mb-3">
                                      <label for="consumerSubcategory" class="form-label">
                                        Consumer Sub Category Type*</label>
                                      <select type="text" name="consumerSubcategory" id="consumerSubcategory"
                                        formControlName="consumerSubcategory" [ngClass]="{'is-invalid':
                                        submitted3 && billingGroupForm.controls['consumerSubcategory'].errors
                                           }" class="form-control">
                                        <option value="" disabled="true">Select Consumer Sub Category Type</option>
                                        <option *ngFor="let data of subCategory" [value]="data.id">
                                          {{ data.name }}
                                        </option>
                                      </select>
                                      <div *ngIf="submitted3 && billingGroupForm.controls['consumerSubcategory'].errors"
                                        class="form-text text-danger">
                                        <div
                                          *ngIf="billingGroupForm.controls['consumerSubcategory'].errors['required']">
                                          Consumer Sub Category Type is required</div>
                                      </div>
                                    </div>
                                  </div>

                                  <div class="col-lg-4 col-sm-12">
                                    <div class="mb-3">
                                      <label for="billingCycle" class="form-label">
                                        Billing cycle*</label>
                                      <select type="text" name="billingCycle" id="billingCycle"
                                        formControlName="billingCycle" [ngClass]="{'is-invalid':submitted3 && billingGroupForm.controls['billingCycle'].errors
                                         }" class="form-control">
                                        <option value="" disabled="true">Select Billing cycle</option>
                                        <option *ngFor="let data of billingcycles" [value]="data.id">
                                          {{ data.name }}
                                        </option>
                                      </select>
                                      <div *ngIf="submitted3 && billingGroupForm.controls['billingCycle'].errors"
                                        class="form-text text-danger">
                                        <div *ngIf="billingGroupForm.controls['billingCycle'].errors['required']">
                                          Billing Cycle is required</div>
                                      </div>
                                    </div>
                                  </div>

                                  <div class="col-lg-4 col-sm-12">
                                    <div class="mb-3">
                                      <label for="computationType" class="form-label">
                                        Computation Type*</label>
                                      <select type="text" name="computationType" id="computationType"
                                        formControlName="computationType" [ngClass]="{'is-invalid':submitted3 && billingGroupForm.controls['computationType'].errors
                                         }" class="form-control">
                                        <option value="" disabled="true">Select Computation Type</option>
                                        <option *ngFor="let data of computationData" [value]="data.id">
                                          {{ data.name }}
                                        </option>
                                      </select>
                                      <div *ngIf="submitted3 && billingGroupForm.controls['computationType'].errors"
                                        class="form-text text-danger">
                                        <div *ngIf="billingGroupForm.controls['computationType'].errors['required']">
                                          Computation Type is required</div>
                                      </div>
                                    </div>
                                  </div>
                                  <div class="col-lg-4 col-sm-12">
                                    <div class="mb-3">
                                      <label for="tariffTypes" class="form-label">
                                        Tariff Type*</label>
                                      <select type="text" name="tariffTypes" id="tariffTypes" (change)="getTariffByID($event)"
                                        formControlName="tariffTypes" [ngClass]="{'is-invalid':submitted3 && billingGroupForm.controls['tariffTypes'].errors
                                         }" class="form-control">
                                        <option value="" disabled="true">Select Tariff Type</option>
                                        <option *ngFor="let data of tariffTypes" [value]="data.id">
                                          {{ data.name }}
                                        </option>
                                      </select>
                                      <div *ngIf="submitted3 && billingGroupForm.controls['tariffTypes'].errors"
                                        class="form-text text-danger">
                                        <div *ngIf="billingGroupForm.controls['tariffTypes'].errors['required']">
                                          Tariff Type is required</div>
                                      </div>
                                    </div>
                                  </div>

                                  <div class="col-lg-4 col-sm-12">
                                    <div class="mb-3">
                                      <label for="subtariffTypes" class="form-label">
                                        Sub-Tariff Type*</label>
                                      <select type="text" name="subtariffTypes" id="subtariffTypes"
                                        formControlName="subtariffTypes" [ngClass]="{'is-invalid':submitted3 && billingGroupForm.controls['subtariffTypes'].errors
                                         }" class="form-control">
                                        <option value="" disabled="true">Select Sub-Tariff Type</option>
                                        <option *ngFor="let data of subtariffType" [value]="data.id">
                                          {{ data.name }}
                                        </option>
                                      </select>
                                      <div *ngIf="submitted3 && billingGroupForm.controls['subtariffTypes'].errors"
                                        class="form-text text-danger">
                                        <div *ngIf="billingGroupForm.controls['subtariffTypes'].errors['required']">
                                          Sub-Tariff Type is required</div>
                                      </div>
                                    </div>
                                  </div>

                                  <div class="col-lg-4 col-sm-12">
                                    <div class="mb-3">
                                      <label for="subtariffTypes" class="form-label">
                                        Rate*</label>
                                      <input type="text" formControlName="rate" id="rate" class="form-control"
                                        placeholder="Enter Rate" [ngClass]="{
                                          'is-invalid':
                                          submitted3 && billingGroupForm.controls['rate'].errors
                                        }" />
                                      <div *ngIf="submitted3 && billingGroupForm.controls['rate'].errors"
                                        class="form-text text-danger">
                                        <div *ngIf="billingGroupForm.controls['rate'].errors['required']">
                                          Rate is required</div>
                                      </div>
                                    </div>
                                  </div>

                                  <div class="row">
                                    <div class="col-lg-4 col-sm-12">
                                      <div class="form-group">
                                        <button class="theme_btn tp_two logo-button-website"
                                          (click)="onAddBilling(billingGroupForm.value)" type="submit"><i class="fas fa-plus-square"></i>  Create
                                          Billing Group</button>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </form>
                          </div>
                        </div>

                        <div class="modal-footer">
                          <button type="button" class="btn btn-outline-dark button-login"
                            (click)="modal.close('Save click')">Close</button>
                        </div>
                      </ng-template>

                      <ng-template #updateBillingModal let-modal>
                        <div class="modal-header">
                          <h4 class="modal-title" id="modal-basic-title">Update Billing Group</h4>
                        </div>
                        <div class="modal-body">
                          <div class="card-body">
                            <form id="smp-form" autocomplete="off" [formGroup]="updateBillingForm">
                              <div class="messages"></div>
                              <div class="controls">
                                <br>
                                <div class="row">
                                  <div class="col-lg-4 col-sm-12">
                                    <div class="mb-3">
                                      <label for="type" class="form-label">
                                        Type*</label>
                                       <select type="text" name="type" id="type" formControlName="type"
                                        [ngClass]="{'is-invalid':submitted3 && updateBillingForm.controls['type'].errors }"
                                        class="form-control">
                                        <option value="" disabled="true">Select Type</option>
                                        <option value="CONSUMPTION">CONSUMPTION</option>
                                        <option value="OTHERS">OTHERS</option>
                                      </select>

                                      <div *ngIf="submitted3 && updateBillingForm.controls['type'].errors"
                                        class="form-text text-danger">
                                        <div *ngIf="updateBillingForm.controls['type'].errors['required']">
                                          Type is required</div>
                                      </div>
                                    </div>
                                  </div>
                                  <div class="col-lg-4 col-sm-12">
                                    <div class="mb-3">
                                      <label for="billtype" class="form-label">
                                        Bill Type*</label>
                                      <select type="text" name="billtype" id="billtype" formControlName="billtype"
                                        [ngClass]="{'is-invalid':
                                        submitted3 && updateBillingForm.controls['billtype'].errors
                                        }" class="form-control">
                                        <option value="" disabled="true">Select Bill Type</option>
                                        <option *ngFor="let data of billTypes" [value]="data.id">
                                          {{ data.name }}
                                        </option>
                                      </select>
                                      <div *ngIf="submitted3 && updateBillingForm.controls['billtype'].errors"
                                        class="form-text text-danger">
                                        <div *ngIf="updateBillingForm.controls['billtype'].errors['required']">
                                          Type is required</div>
                                      </div>
                                    </div>
                                  </div>
                                  <div class="col-lg-4 col-sm-12">
                                    <div class="mb-3">
                                      <label for="subBillTypes" class="form-label">
                                        Sub-Bill Type*</label>
                                      <select type="text" name="subBillTypes" id="subBillTypes"
                                        formControlName="subBillTypes" [ngClass]="{'is-invalid':
                                         submitted3 && updateBillingForm.controls['subBillTypes'].errors
                                             }" class="form-control">
                                        <option value="" disabled="true">Select Sub-Bill Type</option>
                                        <option *ngFor="let data of subbillTypes" [value]="data.id">
                                          {{ data.name }}
                                        </option>
                                      </select>
                                      <div *ngIf="submitted3 && updateBillingForm.controls['subBillTypes'].errors"
                                        class="form-text text-danger">
                                        <div *ngIf="updateBillingForm.controls['subBillTypes'].errors['required']">
                                          Sub-bill Type is required</div>
                                      </div>
                                    </div>
                                  </div>

                                  <div class="col-lg-4 col-sm-12">
                                    <div class="mb-3">
                                      <label for="consumercategory" class="form-label">
                                        Consumer Category Type*</label>
                                      <select type="text" name="consumercategory" id="consumercategory"
                                        (change)="onChange($event)" formControlName="consumercategory" [ngClass]="{'is-invalid':
                                        submitted3 && updateBillingForm.controls['consumercategory'].errors
                                           }" class="form-control">
                                        <option value="" disabled="true">Select Consumer Category Type</option>
                                        <option *ngFor="let data of consumercatgryTypes" [value]="data.id">
                                          {{ data.name }}
                                        </option>
                                      </select>
                                      <div *ngIf="submitted3 && updateBillingForm.controls['consumercategory'].errors"
                                        class="form-text text-danger">
                                        <div *ngIf="updateBillingForm.controls['consumercategory'].errors['required']">
                                          Consumer Category Type is required</div>
                                      </div>
                                    </div>
                                  </div>

                                  <div class="col-lg-4 col-sm-12">
                                    <div class="mb-3">
                                      <label for="consumerSubcategory" class="form-label">
                                        Consumer Sub Category Type*</label>
                                      <select type="text" name="consumerSubcategory" id="consumerSubcategory"
                                        formControlName="consumerSubcategory" [ngClass]="{'is-invalid':
                                        submitted3 && updateBillingForm.controls['consumerSubcategory'].errors
                                           }" class="form-control">
                                        <option value=""  disabled="true">Select Consumer Sub Category Type</option>
                                        <option *ngFor="let data of subCategory" [value]="data.id">
                                          {{ data.name }}
                                        </option>
                                      </select>
                                      <div
                                        *ngIf="submitted3 && updateBillingForm.controls['consumerSubcategory'].errors"
                                        class="form-text text-danger">
                                        <div
                                          *ngIf="updateBillingForm.controls['consumerSubcategory'].errors['required']">
                                          Consumer Sub Category Type is required</div>
                                      </div>
                                    </div>
                                  </div>

                                  <div class="col-lg-4 col-sm-12">
                                    <div class="mb-3">
                                      <label for="billingCycle" class="form-label">
                                        Billing cycle*</label>
                                      <select type="text" name="billingCycle" id="billingCycle"
                                        formControlName="billingCycle" [ngClass]="{'is-invalid':submitted3 && updateBillingForm.controls['billingCycle'].errors
                                         }" class="form-control">
                                        <option value="" disabled="true">Select Billing cycle</option>
                                        <option *ngFor="let data of billingcycles" [value]="data.id">
                                          {{ data.name }}
                                        </option>
                                      </select>
                                      <div *ngIf="submitted3 && updateBillingForm.controls['billingCycle'].errors"
                                        class="form-text text-danger">
                                        <div *ngIf="updateBillingForm.controls['billingCycle'].errors['required']">
                                          Billing Cycle is required</div>
                                      </div>
                                    </div>
                                  </div>

                                  <div class="col-lg-4 col-sm-12">
                                    <div class="mb-3">
                                      <label for="computationType" class="form-label">
                                        Computation Type*</label>
                                      <select type="text" name="computationType" id="computationType"
                                        formControlName="computationType" [ngClass]="{'is-invalid':submitted3 && updateBillingForm.controls['computationType'].errors
                                         }" class="form-control">
                                        <option value=""  disabled="true">Select Computation Type</option>
                                        <option *ngFor="let data of computationData" [value]="data.id">
                                          {{ data.name }}
                                        </option>
                                      </select>
                                      <div *ngIf="submitted3 && updateBillingForm.controls['computationType'].errors"
                                        class="form-text text-danger">
                                        <div *ngIf="updateBillingForm.controls['computationType'].errors['required']">
                                          Computation Type is required</div>
                                      </div>
                                    </div>
                                  </div>
                                  <div class="col-lg-4 col-sm-12">
                                    <div class="mb-3">
                                      <label for="tariffTypes" class="form-label">
                                        Tariff Type*</label>
                                      <select type="text" name="tariffTypes" id="tariffTypes" (change)="getTariffByID($event)"
                                        formControlName="tariffTypes" [ngClass]="{'is-invalid':submitted3 && updateBillingForm.controls['tariffTypes'].errors
                                         }" class="form-control">
                                        <option value=""  disabled="true">Select Tariff Type</option>
                                        <option *ngFor="let data of tariffTypes" [value]="data.id">
                                          {{ data.name }}
                                        </option>
                                      </select>
                                      <div *ngIf="submitted3 && updateBillingForm.controls['tariffTypes'].errors"
                                        class="form-text text-danger">
                                        <div *ngIf="updateBillingForm.controls['tariffTypes'].errors['required']">
                                          Tariff Type is required</div>
                                      </div>
                                    </div>
                                  </div>

                                  <div class="col-lg-4 col-sm-12">
                                    <div class="mb-3">
                                      <label for="subtariffTypes" class="form-label">
                                        Sub-Tariff Type*</label>
                                      <select type="text" name="subtariffTypes" id="subtariffTypes"
                                        formControlName="subtariffTypes" [ngClass]="{'is-invalid':submitted3 && updateBillingForm.controls['subtariffTypes'].errors
                                         }" class="form-control">
                                        <option value="" disabled="true">Select Sub-Tariff Type</option>
                                        <option *ngFor="let data of subtariffType" [value]="data.id">
                                          {{ data.name }}
                                        </option>
                                      </select>
                                      <div *ngIf="submitted3 && updateBillingForm.controls['subtariffTypes'].errors"
                                        class="form-text text-danger">
                                        <div *ngIf="updateBillingForm.controls['subtariffTypes'].errors['required']">
                                          Sub-Tariff Type is required</div>
                                      </div>
                                    </div>
                                  </div>

                                  <div class="col-lg-4 col-sm-12">
                                    <div class="mb-3">
                                      <label for="subtariffTypes" class="form-label">
                                        Rate*</label>
                                      <input type="text" formControlName="rate" id="rate" class="form-control"
                                        placeholder="Enter First Name" [ngClass]="{
                                          'is-invalid':
                                          submitted3 && updateBillingForm.controls['rate'].errors
                                        }" />
                                      <div *ngIf="submitted3 && updateBillingForm.controls['rate'].errors"
                                        class="form-text text-danger">
                                        <div *ngIf="updateBillingForm.controls['rate'].errors['required']">
                                          Rate is required</div>
                                      </div>
                                    </div>
                                  </div>

                                  <div class="row">
                                    <div class="col-lg-4 col-sm-12">
                                      <div class="form-group">
                                        <button class="theme_btn tp_two logo-button-website"
                                          (click)="updateBill(updateBillingForm.value)" type="submit"><i class="fa fa-pencil"></i> Update
                                          Billing Group</button>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </form>
                          </div>
                        </div>

                        <div class="modal-footer">
                          <button type="button" class="btn btn-outline-dark button-login"
                            (click)="modal.close('Save click')">Close</button>
                        </div>
                      </ng-template>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!--/. container-fluid -->
  </section>
  <!-- /.content -->
</div>
<!-- /.content-wrapper -->
