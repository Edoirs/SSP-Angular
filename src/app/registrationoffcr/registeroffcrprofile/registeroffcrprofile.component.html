<!-- Content Wrapper. Contains page content -->
<div class="content-wrapper" id="smp-content">
  <section class="content">
    <div class="container-fluid">
      <!-- Main row -->
      <!-- <div class="row"> -->
      <!-- Left col -->

      <!-- MAP & BOX PANE -->
      <div class="card">
        <div class="card-header card-bg ">

          <h3 class="card-title mt-2 ms-3">Consumer List </h3>
          <button class="btn btn-sm btn-primary float-right" (click)="onboardConsumer(onboardConsumerModal)">
            <i class="fas fa-plus-square"></i> Onboard Consumer
          </button>
        </div>
        <div class="ms-3">
          <form id="smp-form" [formGroup]="searchForm" autocomplete="off" class="mt-0 "
            (ngSubmit)="onSubmitSearch()">
            <div class="form-row mt-4">

              <div class=" col-sm-4  mt-1 ms-3">
                <div class="form-group">
                  <input type="text" class="form-control" name="keyword" placeholder="Search by Name, Email or Phone"
                    formControlName="keyword"
                    [ngClass]="{ 'is-invalid': submitted && searchForm.controls['keyword'].errors}" />

                  <div *ngIf="submitted &amp;&amp; searchForm.controls['keyword'].errors" class="form-text text-danger">
                    <div *ngIf="searchForm.controls['keyword'].errors['required']">Name, Email or Phone
                      is required</div>
                  </div>
                </div>
              </div>
              <div class=" col-sm-5 mt-1">
                <button type="submit" class="btn btn-primary font-12 smp-button">
                  <i class="fas fa-search"></i> Search
                </button>
                <button type="button" class="btn btn-primary font-12 smp-button-clear" (click)="clearSearch()">
                  <i class="fas fa-sync-alt"></i> Clear
                </button>
              </div>
            </div>
          </form>
        </div>
        <div class="card-body">
          <div class="col-auto mbm-30 showlisting">
            <div class="row m-35" *ngIf="consumerData">
              <div class="col-sm-4" style="z-index: 1;">
                <span>Show &nbsp; </span>
                <select (change)="setItemsPerPage(page.value)" #page>
                  <option [selected]="currentPageLength == 10">10</option>
                  <option [selected]="currentPageLength == 30">30</option>
                  <option [selected]="currentPageLength == 50">50</option>
                  <option [selected]="currentPageLength == 100">100</option>
                  <option [selected]="currentPageLength == 500">500</option>
                  <option [selected]="currentPageLength == 1000">1000</option>
                </select>
                <span> &nbsp; entries </span>
              </div>
            </div>
          </div>
          <div>
            <div>
              <table class="table table-bordered table-sm row-border hover mt-4 " id="example2" *ngIf="consumerData"
                datatable [dtOptions]="dtOptions">
                <thead style="white-space: nowrap;">
                  <tr>
                    <th>S/N</th>
                    <th>Consumer Id</th>
                    <th>Consumer Name</th>
                    <th>Category</th>
                    <th>Email</th>
                    <th>Phone</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody style="white-space: nowrap;">
                  <tr *ngFor="let mydata of consumerData | paginate : config; let i = index">
                    <td>
                      {{ config.currentPage === 0 ? i+1 : config.itemsPerPage * (config.currentPage - 1) + i +
                      1 }}
                    </td>
                    <td>{{ mydata.reference}} </td>
                    <td>{{ mydata.first_name | titlecase }} {{ mydata.last_name | titlecase }} </td>
                    <td>{{ mydata.consumer_sub_category_name}}</td>
                    <td>{{ mydata.email}} </td>
                    <td>{{ mydata.phone}} </td>
                    <td style="width: 10%">
                      <button class="btn btn-sm btn-outline-success"
                        (click)="viewSingleConsumer(viewSingleConsumerModal,mydata)">
                        <i class="nav-icon fas fa-eye"></i> View
                      </button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>

            <div class="row m-0 mt-3">
              <div class="col-sm-6">
                <div id="page_info" class="record-show-text-bottom" *ngIf="consumerData">


                  Showing {{ config.currentPage === 0 ? 1 : (config.currentPage - 1) * config.itemsPerPage + 1 }} -
                  {{ (config.currentPage === 0 ? 1 : config.currentPage) * config.itemsPerPage }} &nbsp; of &nbsp;{{
                  config.totalItems
                  }}
                  &nbsp; entries
                </div>
              </div>
              <div class="col-sm-6">
                <div *ngIf="consumerData">
                  <pagination-controls (pageChange)="pageChange($event)" class="float-right">
                  </pagination-controls>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!--/. container-fluid -->
  </section>
  <!-- /.content -->
</div>

<ng-template #viewSingleConsumerModal let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Single Consumer </h4>
    <button *ngIf="activeTab ==='consumerAsset'" class="btn btn-sm btn-primary float-right"
      (click)="addAsset(searchAssetModal)">
      <i class="fas fa-plus-square"></i> Add Asset
    </button>
    <button *ngIf="activeTab ==='niswasecDetails'" class="btn btn-sm btn-primary float-right"
      (click)="createProfile(createProfileModal)">
      <i class="fas fa-plus-square"></i> Create NISWASEC Profile
    </button>
  </div>
  <div class="modal-body">
    <div class="card-body">
      <div id="tabs" #tabs>

        <ul class="nav nav-pills">
          <li class="nav-item">
            <a class="nav-link active " href="#consumerDetails" [ngClass]="{ 'active':activeTab==='consumerDetails'}"
              (click)="consumerDetails('consumerDetails', $event)" data-toggle="tab">Consumer Details</a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="#consumerAsset" [ngClass]="{ 'active':activeTab==='consumerAsset'}"
              data-toggle="tab" (click)="consumerAsset('consumerAsset', $event)">Consumer Assets</a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="#niswasecDetails" [ngClass]="{ 'active':activeTab==='niswasecDetails'}"
              data-toggle="tab" (click)="niswasecDetails('niswasecDetails', $event)">NISWASEC Details</a>
          </li>


        </ul>
        <div class="tab-content">
          <div class="tab-pane" id="consumerDetails" [ngClass]="{ 'active':activeTab === 'consumerDetails'}">
            <form id="smp-form" autocomplete="off" [formGroup]="consumerDetailsForm">
              <div class="messages"></div>
              <div class="controls">
                <br>
                <div class="row">
                  <div class="col-lg-4 col-sm-12">
                    <div class="mb-3">
                      <label for="taxpayerReference" class="form-label">Taxpayer Reference</label>
                      <input type="text" formControlName="taxpayerReference" id="taxpayerReference"
                        class="form-control" />
                    </div>
                  </div>
                  <div class="col-lg-4 col-sm-12">
                    <div class="form-group">
                      <label for="title" class="form-label">Title*</label>
                      <select type="text" name="Title" formControlName="title" id="title" class="form-control">
                        <option value="" disabled="true">Select Title</option>
                        <option *ngFor="let data of titlesData" [value]="data.id">
                          {{ data.name }}
                        </option>
                      </select>
                    </div>
                  </div>

                  <div class="col-lg-4 col-sm-12">
                    <div class="mb-3">
                      <label for="firstName" class="form-label">First Name*</label>
                      <input type="text" formControlName="firstName" maxlength="30" id="firstName"
                        class="form-control" />
                    </div>
                  </div>
                  <div class="col-lg-4 col-sm-12">
                    <div class="mb-3">
                      <label for="middleName" class="form-label">Middle Name</label>
                      <input type="text" formControlName="middleName" maxlength="30" id="middleName"
                        class="form-control" />
                    </div>
                  </div>
                  <div class="col-lg-4 col-sm-12">
                    <div class="mb-3">
                      <label for="lastName" class="form-label">Last Name*</label>
                      <input type="text" formControlName="lastName" maxlength="30" id="lastName" class="form-control" />
                    </div>
                  </div>

                  <div class="col-lg-4 col-sm-12">
                    <div class="mb-3">
                      <label for="emailAddress" class="form-label">Email*</label>
                      <input type="text" class="form-control" name="emailAddress" formControlName="emailAddress"
                        id="emailAddress" maxlength="45" />
                    </div>
                  </div>

                  <div class="col-lg-4 col-sm-12">
                    <div class="mb-3">
                      <label for="phoneNumber" class="form-label">Mobile*</label>
                      <input type="text" class="form-control" name="phoneNumber"
                        (keypress)="keyPressNumbersWithDecimal($event)" maxlength="11" id="phoneNumber"
                        (keypress)="keyPressNumbersWithDecimal($event)" formControlName="phoneNumber" />
                    </div>
                  </div>
                  <div class="col-lg-4 col-sm-12">
                    <div class="mb-3">
                      <label for="gender" class="form-label">Gender*</label>
                      <select type="text" name="gender" formControlName="gender" id="gender" class="form-control">
                        <option value="" disabled="true">Select Gender</option>
                        <option *ngFor="let data of  genderData" [value]="data.id">
                          {{ data.name }}
                        </option>
                      </select>
                    </div>
                  </div>

                  <div class="col-lg-4 col-sm-12">
                    <div class="form-group">
                      <label for="countryId" class="form-label">Nationality*</label>
                      <select name="countryId" formControlName="countryId" id="countryId" class="form-control">
                        <option value="" disabled="true">Select
                          Nationality</option>
                        <option *ngFor="let country of countriesData" [value]="country.id">{{ country.name }}
                        </option>
                      </select>
                    </div>
                  </div>

                  <div class="col-lg-4 col-sm-12">
                    <div class="form-group">
                      <label for="stateId" class="form-label">State*</label>
                      <select name="stateId" formControlName="stateId" id="stateId" class="form-control">
                        <option value="" disabled="true">Select
                          State</option>
                        <option *ngFor="let state of statesData" [value]="state.id">{{ state.name }}
                        </option>
                      </select>
                    </div>
                  </div>

                  <div class="col-lg-4 col-sm-12">
                    <div class="form-group">
                      <label for="localGovtId" class="form-label">Local Goverment*</label>
                      <select name="localGovtId" formControlName="localGovtId" id="localGovtId" class="form-control">
                        <option value="" disabled="true">Select
                          Local Goverment</option>
                        <option *ngFor="let mydata of localGovtData" [value]="mydata.id">{{ mydata.name }}
                        </option>
                      </select>
                    </div>
                  </div>
                  <div class="col-lg-4 col-sm-12">
                    <div class="mb-3">
                      <label for="dateOfBirth" class="form-label">Date
                        of Birth*</label>
                      <input type="date" name="dateOfBirth" max="01/01/2021" min="01/01/1960"
                        formControlName="dateOfBirth" id="dateOfBirth" class="form-control" [max]="date"
                        [min]="minDate" />
                    </div>
                  </div>

                  <div class="col-lg-4 col-sm-12">
                    <div class="mb-3">
                      <label for="maritalStatus" class="form-label">Marital Status*</label>
                      <select type="text" name="maritalStatus" id="maritalStatus" formControlName="maritalStatus"
                        class="form-control">
                        <option value="" disabled="true">Select Marital Status
                        </option>
                        <option *ngFor="let data of  maritalStatusData" [value]="data.id">
                          {{ data.name }}
                        </option>
                      </select>
                    </div>
                  </div>

                  <div class="col-lg-4 col-sm-12">
                    <div class="mb-3">
                      <label for="occupation" class="form-label">
                        Occupation*</label>
                      <select type="text" name="occupation" id="occupation" formControlName="occupation"
                        class="form-control">
                        <option value="" disabled="true">Select Occupation</option>
                        <option *ngFor="let data of occupationData" [value]="data.id">
                          {{ data.name }}
                        </option>
                      </select>
                    </div>
                  </div>


                  <div class="col-lg-4 col-sm-12">
                    <div class="mb-3">
                      <label for="consumercategory" class="form-label">
                        Consumer Category Type*</label>
                      <select type="text" name="consumercategory" id="consumercategory"
                        formControlName="consumercategory" class="form-control">
                        <option value="" disabled="true">Select Consumer Category Type</option>
                        <option *ngFor="let data of consumercatgryTypes" [value]="data.id">
                          {{ data.name }}
                        </option>
                      </select>
                    </div>
                  </div>

                  <div class="col-lg-4 col-sm-12">
                    <div class="mb-3">
                      <label for="consumerSubcategory" class="form-label">
                        Consumer Sub-Category Type*</label>
                      <input type="text" class="form-control" name="consumerSubcategory"
                        formControlName="consumerSubcategory" id="consumerSubcategory" />
                    </div>
                  </div>
                  <div class="col-lg-4 col-sm-12" *ngIf="selectedConsumerId == 1">
                    <div class="mb-3">
                      <label for="bvn" class="form-label">BVN</label>
                      <input type="text" formControlName="bvn" id="bvn" (keypress)="keyPressNumbersWithDecimal($event)"
                        maxlength="11" class="form-control" />

                    </div>
                  </div>
                  <div class="col-lg-4 col-sm-12">
                    <div class="mb-3">
                      <label for="tin" class="form-label">TIN</label>
                      <input type="text" formControlName="tin" id="tin" maxlength="11" class="form-control"
                        (keypress)="keyPressNumbersWithDecimal($event)" />

                    </div>
                  </div>
                  <div class="col-lg-4 col-sm-12" *ngIf="selectedConsumerId == 1">
                    <div class="mb-3">
                      <label for="nin" class="form-label">NIN</label>
                      <input type="text" formControlName="nin" id="nin" maxlength="11" class="form-control"
                        (keypress)="keyPressNumbersWithDecimal($event)" />

                    </div>
                  </div>
                  <div class="col-lg-4 col-sm-12" *ngIf="selectedConsumerId == 2">
                    <div class="mb-3">
                      <label for="cac" class="form-label">CAC Number</label>
                      <input type="text" formControlName="cac" id="cac" class="form-control"
                        (keypress)="keyPressNumbersWithDecimal($event)" />

                    </div>
                  </div>
                  <div class="col-lg-4 col-sm-12" *ngIf="selectedConsumerId == 2">
                    <div class="mb-3">
                      <label for="companyType" class="form-label">
                        Company Type</label>
                      <select type="text" name="companyType" id="companyType" formControlName="companyType"
                        class="form-control">
                        <option value="" disabled="true">Select Company Type</option>
                        <option *ngFor="let data of companyTypeData" [value]="data.id">
                          {{ data.name }}
                        </option>
                      </select>

                    </div>
                  </div>
                  <div class="col-lg-4 col-sm-12" *ngIf="selectedConsumerId == 2">
                    <div class="mb-3">
                      <label for="industrySector" class="form-label">
                        Industrial sector*</label>
                      <select type="text" name="industrySector" id="industrySector" formControlName="industrySector"
                        class="form-control">
                        <option value="" disabled="true">Select Industrial sector</option>
                        <option *ngFor="let data of industrySector" [value]="data.id">
                          {{ data.name }}
                        </option>
                      </select>
                    </div>
                  </div>

                  <div class="col-lg-4 col-sm-12" *ngIf="selectedConsumerId == 2">
                    <div class="mb-3">
                      <label for="companyName" class="form-label">Company Name</label>
                      <input type="text" formControlName="companyName" id="companyName" class="form-control"
                        placeholder="Enter Company Name" />
                    </div>
                  </div>

                  <div class="col-lg-4 col-sm-12" *ngIf="selectedConsumerId == 2">
                    <div class="mb-3">
                      <label for="address" class="form-label">Company Address*</label>
                      <textarea type="text" formControlName="companyAddress" class="form-control" id="companyAddress"
                        rows="1" placeholder="Enter your company address"></textarea>
                    </div>
                  </div>

                  <div class="col-lg-4 col-sm-12">
                    <div class="mb-3">
                      <label for="address" class="form-label">Address*</label>
                      <textarea type="text" formControlName="address" class="form-control" id="address" rows="1"
                        placeholder="Enter your residential address"></textarea>
                    </div>
                  </div>


                  <div class="row">
                    <div class="col-lg-4 col-sm-12">
                      <div class="form-group">
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </form>
          </div>

          <div class="tab-pane" id="niswasecDetails" [ngClass]="{ 'active':activeTab === 'niswasecDetails'}">
            <div class="card-header card-bg" style="background-color: #fff;">


            </div>
            <table class="table table-bordered table-sm row-border hover mt-4 " id="example2"
              *ngIf="niswacdetails, else content" datatable [dtOptions]="dtOptions2">
              <thead style="white-space: nowrap;">
                <tr>
                  <th>S/N</th>
                  <th>Billing Cycle </th>
                  <th>Meter Number</th>
                  <th>Asset Reference</th>
                  <th>Contract Reference</th>
                  <th>Connection Status</th>
                  <th>Edit</th>
                  <th>Action</th>
                </tr>
              </thead>
              <tbody style="white-space: nowrap;">
                <tr *ngFor="let mydata of niswacdetails | paginate : config; let i = index">
                  <td> {{ i + 1 }}
                  </td>
                  <td>{{ getBill(mydata.billing_cycle_id) }}</td>
                  <td>{{ mydata.meter_number }}</td>
                  <td>{{ mydata.asset_reference }}</td>
                  <td>{{ mydata.contract_reference }}</td>

                  <td style="width: 18%">


                    <select [(ngModel)]="mydata.connection_status_id" (change)="onSelectconnection(mydata)"
                      class="form-select">
                      <option *ngFor="let data of connectionStatus" [value]="data.id"
                        [selected]="mydata.connection_status_id">
                        {{ data.name }}
                      </option>
                    </select>
                  </td>
                  <td style="width: 10%">
                    <button class="btn btn-sm btn-outline-success" (click)="onEdit(viewEditNiswasecModal, mydata)">
                      <i class="nav-icon fa fa-pencil"></i> Edit
                    </button>
                  </td>
                  <td style="width: 10%">
                    <button class="btn btn-sm btn-outline-success" (click)="viewNISWADetails(viewdetailsModal,mydata)">
                      <i class="nav-icon fas fa-eye"></i> View
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>

            <ng-template #content>
              <table class="table table-bordered table-sm row-border hover mt-4 " id="example2" datatable
                [dtOptions]="dtOptions2">
                <thead style="white-space: nowrap;">
                  <tr>
                    <th>S/N</th>
                    <th>Billing Cycle </th>
                    <th>Meter Number</th>
                    <th>Asset Reference</th>
                    <th>Contract Reference</th>


                    <th>Connection Status</th>
                    <th>Edit</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody style="white-space: nowrap;">
                  <tr *ngFor="let mydata of niswacdetails | paginate : config; let i = index">
                    <td> {{ i + 1 }}
                    </td>
                    <td>{{ getBill(mydata.billing_cycle_id) }}</td>
                    <td>{{ mydata.meter_number }}</td>
                    <td>{{ mydata.asset_reference }}</td>
                    <td>{{ mydata.contract_reference }}</td>

                    <td style="width: 18%">


                      <select [(ngModel)]="mydata.connection_status_id" (change)="onSelectconnection(mydata)"
                        class="form-select">
                        <option *ngFor="let data of connectionStatus" [value]="data.id"
                          [selected]="mydata.connection_status_id">
                          {{ data.name }}
                        </option>
                      </select>
                    </td>
                    <td style="width: 10%">
                      <button class="btn btn-sm btn-outline-success" (click)="onEdit(viewEditNiswasecModal, mydata)">
                        <i class="nav-icon fa fa-pencil"></i> Edit
                      </button>
                    </td>
                    <td style="width: 10%">
                      <button class="btn btn-sm btn-outline-success"
                        (click)="viewNISWADetails(viewdetailsModal,mydata)">
                        <i class="nav-icon fas fa-eye"></i> View
                      </button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </ng-template>
          </div>

          <div class="tab-pane" id="consumerAsset" [ngClass]="{ 'active':activeTab === 'consumerAsset'}">
            <div class="card-body">

              <!-- <form id="smp-form" [formGroup]="searchAsseetsForm" autocomplete="off" class="mt-1"
              (ngSubmit)="onSubmitAsseetsSearch(searchAsseetsForm.value)">
              <div class="form-row mt-4">

                <div class=" col-sm-4  mt-1">
                  <div class="form-group">
                    <input type="text" class="form-control" name="keyword" placeholder="Enter Consumer Reference"
                      formControlName="keyword"
                      [ngClass]="{ 'is-invalid': submittedAsseets && searchAsseetsForm.controls['keyword'].errors}" />

                    <div *ngIf="submittedAsseets &amp;&amp; searchAsseetsForm.controls['keyword'].errors"
                      class="form-text text-danger">
                      <div *ngIf="searchAsseetsForm.controls['keyword'].errors['required']">Keyword
                        is required</div>
                    </div>
                  </div>
                </div>
                <div class=" col-sm-5 mt-1">
                  <button type="submit" class="btn btn-primary font-12 smp-button">
                    <i class="fas fa-search"></i> Search
                  </button>
                  <button type="button" class="btn btn-primary font-12 smp-button-clear" (click)="clearAsseetsSearch()">
                    <i class="fas fa-sync-alt"></i> Clear
                  </button>
                </div>

              </div>
            </form> -->


              <!-- /.card-header -->



            </div>
            <div class="card-body mt-4">
              <!-- <div class="col-auto mbm-30">
                <div class="row m-35" *ngIf="assetNiswasecData">
                  <div class="col-sm-4" style="z-index: 1;">
                    <span>Show &nbsp; </span>
                    <select (change)="setItemsPerPage(page.value)" #page>
                      <option [selected]="currentPageLength == 10">10</option>
                      <option [selected]="currentPageLength == 30">30</option>
                      <option [selected]="currentPageLength == 50">50</option>
                      <option [selected]="currentPageLength == 100">100</option>
                      <option [selected]="currentPageLength == 500">500</option>
                      <option [selected]="currentPageLength == 1000">1000</option>
                    </select>
                    <span> &nbsp; entries </span>
                  </div>
                </div>
              </div> -->
              <div>
                <div>
                  <table class="table table-bordered table-sm row-border hover mt-4" id="example2"
                    *ngIf="assetNiswasecData, else content" datatable [dtOptions]="dtOptions2">
                    <thead style="white-space: nowrap;">
                      <tr>
                        <th>S/N</th>

                        <th>Asset Name</th>
                        <th>Asset Type</th>
                        <th>Asset Reference </th>
                        <th>Consumer Id</th>
                      </tr>
                    </thead>
                    <tbody style="white-space: nowrap;">
                      <tr *ngFor="let mydata of assetNiswasecData ; let i = index">
                        <td> {{ i + 1 }}</td>
                        <td>{{ mydata.asset_name }} </td>
                        <td>{{ mydata.asset_type_name }} </td>
                        <td>{{ mydata.asset_reference}} </td>
                        <td>{{ mydata.consumer_id}} </td>
                      </tr>
                    </tbody>
                  </table>

                  <ng-template #content>
                    <table class="table table-bordered table-sm row-border hover mt-4 " id="example2" datatable
                      [dtOptions]="dtOptions2">
                      <thead style="white-space: nowrap;">
                        <tr>
                          <th>S/N</th>

                          <th>Asset Name</th>
                          <th>Asset Type</th>
                          <th>Asset Reference </th>
                          <th>Consumer Id</th>
                        </tr>
                      </thead>
                      <tbody style="white-space: nowrap;">
                        <tr *ngFor="let mydata of assetNiswasecData; let i = index">
                          <td> {{ i + 1 }}</td>
                          <td>{{ mydata.asset_name }} </td>
                          <td>{{ mydata.asset_type_name }} </td>
                          <td>{{ mydata.asset_reference}} </td>
                          <td>{{ mydata.consumer_id}} </td>
                        </tr>
                      </tbody>
                    </table>
                  </ng-template>
                </div>
                <!-- <div class="row m-0 mt-3">
                <div class="col-sm-6">
                  <div id="page_info" class="record-show-text-bottom" *ngIf="assetNiswasecData">
                    Showing
                    {{ (config.currentPage - 1) * config.itemsPerPage + 1 }} -
                    {{ config.currentPage * config.itemsPerPage }} &nbsp; of
                    &nbsp;{{ config.totalItems }}
                    &nbsp; entries
                  </div>
                </div>
                <div class="col-sm-6">
                  <div *ngIf="assetNiswasecData">
                    <pagination-controls (pageChange)="pageChange($event)" class="float-right">
                    </pagination-controls>
                  </div>
                </div>
              </div> -->
              </div>

            </div>
          </div>
        </div>

      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-outline-dark button-login"
      (click)="modal.close('Save click');onClose()">Close</button>
  </div>
</ng-template>


<ng-template #createProfileModal let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title"> Create NISWASEC Profile </h4>
  </div>
  <div class="modal-body">
    <div class="card-body">
      <form id="smp-form" autocomplete="off" [formGroup]="createNiswasecProfileform">

        <div class="row">


          <div class="col-lg-4 col-sm-12">
            <div class="form-group">
              <label for="title" class="form-label">Consumer Reference*</label>
              <input type="text" formControlName="consumerReference" id="consumerReference" class="form-control"
                [(ngModel)]="selectedConsumer" />

            </div>
          </div>
          <div class="col-lg-4 col-sm-12">
            <div class="form-group">
              <label for="asset" class="form-label">Asset Reference*</label>
              <select name="asset" formControlName="asset" id="asset" class="form-control"
                [ngClass]="{ 'is-invalid': submittedCreate && createNiswasecProfileform.controls['asset'].errors }">
                <option value="" disabled="true">Select
                  Asset </option>
                <option *ngFor="let mydata of assetNiswasecData" [value]="mydata.id">{{ mydata.asset_reference + ' ' +
                  mydata.asset_name }}
                </option>
              </select>
              <div *ngIf="submittedCreate && createNiswasecProfileform.controls['asset'].errors"
                class="form-text text-danger">
                <div *ngIf="createNiswasecProfileform.controls['asset'].errors['required']">
                  Asset is required</div>
              </div>
            </div>
          </div>



          <div class="col-lg-4 col-sm-12">
            <div class="form-group">
              <label for="title" class="form-label">Connection Status*</label>
              <select type="text" name="connectionStatus" formControlName="connectionStatus" id="connectionStatus"
                class="form-control"
                [ngClass]="{ 'is-invalid': submittedCreate && createNiswasecProfileform.controls['connectionStatus'].errors }">
                <option value="" disabled="true">Select Connection Status</option>
                <option *ngFor="let data of connectionStatus" [value]="data.id">
                  {{ data.name }}
                </option>
              </select>
              <div *ngIf="submittedCreate && createNiswasecProfileform.controls['connectionStatus'].errors"
                class="form-text text-danger">
                <div *ngIf="createNiswasecProfileform.controls['connectionStatus'].errors['required']">
                  Connection Status is required</div>
              </div>
            </div>
          </div>
          <div class="col-lg-4 col-sm-12">
            <div class="mb-3">
              <label for="consumercategory" class="form-label">
                Consumer Category Type*</label>
              <select type="text" name="consumercategory" id="consumercategory" (change)="onChange($event)"
                formControlName="consumercategory" [ngClass]="{'is-invalid':
                submittedCreate && createNiswasecProfileform.controls['consumercategory'].errors
                     }" class="form-control">
                <option value="" disabled="true">Select Consumer Category Type</option>
                <option *ngFor="let data of consumercatgryTypes" [value]="data.id">
                  {{ data.name }}
                </option>
              </select>
              <div *ngIf="submittedCreate && createNiswasecProfileform.controls['consumercategory'].errors"
                class="form-text text-danger">
                <div *ngIf="createNiswasecProfileform.controls['consumercategory'].errors['required']">
                  Consumer Category Type is required</div>

              </div>
            </div>
          </div>

          <div class="col-lg-4 col-sm-12">
            <div class="mb-3">
              <label for="consumerSubcategory" class="form-label">
                Consumer Sub-Category Type*</label>
              <select type="text" name="consumerSubcategory" id="consumerSubcategory"
                formControlName="consumerSubcategory" [ngClass]="{'is-invalid':
                submittedCreate && createNiswasecProfileform.controls['consumerSubcategory'].errors
                     }" class="form-control">
                <option value="" disabled="true">Select Consumer Sub-Category Type</option>
                <option *ngFor="let data of subCategory" [value]="data.id">
                  {{ data.name }}
                </option>
              </select>
              <div *ngIf="submittedCreate && createNiswasecProfileform.controls['consumerSubcategory'].errors"
                class="form-text text-danger">
                <div *ngIf="createNiswasecProfileform.controls['consumerSubcategory'].errors['required']">
                  Consumer Sub-Category Type is required</div>

              </div>
            </div>
          </div>
          <div class="col-lg-4 col-sm-12">
            <div class="mb-3">
              <label for="name" class="form-label">
                Tariff*</label>

              <select type="text" name="tariff" id="tariff" formControlName="tariff"
                (change)="getbillgroups();getTariffByID($event)"
                [ngClass]="{ 'is-invalid': submittedCreate && createNiswasecProfileform.controls['tariff'].errors  }"
                class="form-control">
                <option value="" disabled="true">Select Tariff</option>
                <option *ngFor="let data of tariffTypes" [value]="data.id">
                  {{ data.name }}
                </option>
              </select>
              <div *ngIf="submittedCreate && createNiswasecProfileform.controls['tariff'].errors"
                class="form-text text-danger">
                <div *ngIf="createNiswasecProfileform.controls['tariff'].errors['required']">
                  Tariff is required</div>
              </div>
            </div>
          </div>

          <div class="col-lg-4 col-sm-12">
            <div class="mb-3">
              <label for="name" class="form-label">
                Sub-Tariff*</label>

              <select type="text" name="subtariff" id="subtariff" formControlName="subtariff" (change)="getbillgroups()"
                [ngClass]="{ 'is-invalid': submittedCreate && createNiswasecProfileform.controls['subtariff'].errors  }"
                class="form-control">
                <option value="" disabled="true">Select Sub-Tariff</option>
                <option *ngFor="let data of subtariffType" [value]="data.id">
                  {{ data.name }}
                </option>
              </select>
              <div *ngIf="submittedCreate && createNiswasecProfileform.controls['subtariff'].errors"
                class="form-text text-danger">
                <div *ngIf="createNiswasecProfileform.controls['subtariff'].errors['required']">
                  Sub-Tariff is required</div>
              </div>
            </div>
          </div>

          <div class="col-lg-4 col-sm-12">
            <div class="form-group">
              <label for="title" class="form-label">Meter Number**</label>
              <input type="text" formControlName="meterNumber" (keypress)="keyPressNumbersWithDecimal($event)"
                id="meterNumber" maxlength="11" class="form-control" placeholder="Enter Meter Number" [ngClass]="{
                    'is-invalid':
                      submittedCreate && createNiswasecProfileform.controls['meterNumber'].errors
                  }" />
              <div *ngIf="submittedCreate && createNiswasecProfileform.controls['meterNumber'].errors"
                class="form-text text-danger">
                <div *ngIf="createNiswasecProfileform.controls['meterNumber'].errors['required']">
                  Meter Number is required</div>
                <div *ngIf="createNiswasecProfileform.controls['meterNumber'].errors['maxlength']">
                  Meter Number must be at most 11 digits or characters
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-4 col-sm-12">
            <div class="mb-3">
              <label for="name" class="form-label">
                Bill Type</label>

              <select type="text" name="billType" id="billType" formControlName="billType" (change)="getbillgroups()"
                class="form-control">
                <option value="" disabled="true">Select Bill Type</option>
                <option *ngFor="let data of billType" [value]="data.id">
                  {{ data.name }}
                </option>
              </select>

            </div>
          </div>
          <div class="col-lg-4 col-sm-12">
            <div class="form-group">
              <label for="billingGroup" class="form-label">Billing Group*</label>
              <select name="billingGroup" formControlName="billingGroup" id="zone" class="form-control"
                [ngClass]="{ 'is-invalid': submittedCreate && createNiswasecProfileform.controls['billingGroup'].errors }">
                <option value="" disabled="true">Select
                  Billing Group</option>
                <option *ngFor="let mydata of billGroup" [value]="mydata.id">{{ mydata.name }}
                </option>
              </select>
              <div *ngIf="submittedCreate && createNiswasecProfileform.controls['billingGroup'].errors"
                class="form-text text-danger">
                <div *ngIf="createNiswasecProfileform.controls['billingGroup'].errors['required']">
                  Billing Group is required</div>
              </div>
            </div>
          </div>
          <div class="col-lg-4 col-sm-12">
            <div class="form-group">
              <label for="localGovtId" class="form-label">Local Goverment*</label>
              <select name="localGovtId" (change)="getDistricts()" formControlName="localGovtId" id="localGovtId"
                class="form-control"
                [ngClass]="{ 'is-invalid': submittedCreate && createNiswasecProfileform.controls['localGovtId'].errors }">
                <option value="" disabled="true">Select
                  Local Goverment</option>
                <option *ngFor="let mydata of localGovtData" [value]="mydata.id">{{ mydata.name }}
                </option>
              </select>
              <div *ngIf="submittedCreate && createNiswasecProfileform.controls['localGovtId'].errors"
                class="form-text text-danger">
                <div *ngIf="createNiswasecProfileform.controls['localGovtId'].errors['required']">
                  Local Goverment is required</div>
              </div>
            </div>
          </div>
          <div class="col-lg-4 col-sm-12">
            <div class="form-group">
              <label for="localGovtId" class="form-label">District*</label>
              <select name="localGovtId" (change)="getZone()" formControlName="district" id="district"
                class="form-control"
                [ngClass]="{ 'is-invalid': submittedCreate && createNiswasecProfileform.controls['district'].errors }">
                <option value="" disabled="true">Select
                  District</option>
                <option *ngFor="let mydata of distData" [value]="mydata.id">{{ mydata.name }}
                </option>
              </select>
              <div *ngIf="submittedCreate && createNiswasecProfileform.controls['district'].errors"
                class="form-text text-danger">
                <div *ngIf="createNiswasecProfileform.controls['district'].errors['required']">
                  District is required</div>
              </div>
            </div>
          </div>

          <div class="col-lg-4 col-sm-12">
            <div class="form-group">
              <label for="zone" class="form-label">Zone*</label>
              <select name="zone" formControlName="zone" id="zone" (change)="getRound()" class="form-control"
                [ngClass]="{ 'is-invalid': submittedCreate && createNiswasecProfileform.controls['zone'].errors }">
                <option value="" disabled="true">Select
                  Zone</option>
                <option *ngFor="let mydata of zoneData" [value]="mydata.id">{{ mydata.name }}
                </option>
              </select>
              <div *ngIf="submittedCreate && createNiswasecProfileform.controls['zone'].errors"
                class="form-text text-danger">
                <div *ngIf="createNiswasecProfileform.controls['zone'].errors['required']">
                  Zone is required</div>
              </div>
            </div>
          </div>
          <div class="col-lg-4 col-sm-12">
            <div class="form-group">
              <label for="round" class="form-label">Round*</label>
              <select name="round" formControlName="round" id="zone" class="form-control"
                [ngClass]="{ 'is-invalid': submittedCreate && createNiswasecProfileform.controls['round'].errors }">
                <option value="" disabled="true">Select
                  Round</option>
                <option *ngFor="let mydata of roundData" [value]="mydata.id">{{ mydata.name }}
                </option>
              </select>
              <div *ngIf="submittedCreate && createNiswasecProfileform.controls['round'].errors"
                class="form-text text-danger">
                <div *ngIf="createNiswasecProfileform.controls['round'].errors['required']">
                  Round is required</div>
              </div>
            </div>
          </div>


          <div class="col-lg-4 col-sm-12">
            <div class="mb-3">
              <label for="address" class="form-label">Connection Address*</label>
              <textarea type="text" formControlName="address" class="form-control" id="address" rows="1"
                placeholder="Enter your Connection address"
                [ngClass]="{ 'is-invalid': submittedCreate && createNiswasecProfileform.controls['address'].errors }"></textarea>

              <div *ngIf="submittedCreate && createNiswasecProfileform.controls['address'].errors"
                class="form-text text-danger">
                <div *ngIf="createNiswasecProfileform.controls['address'].errors['required']">
                  Connection Address is required</div>
                <div *ngIf="createNiswasecProfileform.controls['address'].errors['minlength']">
                  Connection Address cannot
                  contain less than 6 characters</div>
                <div *ngIf="createNiswasecProfileform.controls['address'].errors['maxlength']">
                  Connection Address be more than 200 characters
                </div>
              </div>

            </div>
          </div>
          <div class="row">
            <div class="col-lg-4 col-sm-12">
              <div class="form-group">
                <button class="theme_btn tp_two logo-button-website"
                  (click)="addtNiswasecProfile(createNiswasecProfileform.value)" type="submit">
                  <i class="fas fa-plus-square"></i> Create Profile</button>
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>


  <div class="modal-footer" style="justify-content: space-between !important;">
    <div class="note-1 float-left"><strong>** Note:</strong> Meter Number is required as either Postpaid or Prepaid
      Bill.</div>
    <div>
      <button type="button" id="closeModalButton" class="btn btn-outline-dark button-login float-right"
        (click)="modal.close('Save click')">Close</button>
    </div>

  </div>
</ng-template>
<ng-template #viewEditNiswasecModal let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Edit NISWASEC Consumer Profile </h4>
  </div>
  <div class="modal-body">
    <div class="card-body">
      <form id="smp-form" autocomplete="off" [formGroup]="editNiswasecDetailform">
        <div class="messages"></div>
        <div class="controls">
          <br>
          <div class="row">
            <div class="col-lg-4 col-sm-12">
              <div class="form-group">
                <label for="title" class="form-label">Meter Number*</label>
                <input type="text" formControlName="meterNumber" id="meterNumber"
                  (keypress)="keyPressNumbersWithDecimal($event)" maxlength="11" class="form-control"
                  placeholder="Enter Meter Number" [ngClass]="{
                      'is-invalid':
                        submittedEditConsumer && editNiswasecDetailform.controls['meterNumber'].errors
                    }" />
                <div *ngIf="submittedEditConsumer && editNiswasecDetailform.controls['meterNumber'].errors"
                  class="form-text text-danger">
                  <div *ngIf="editNiswasecDetailform.controls['meterNumber'].errors['required']">
                    Meter Number is required</div>
                  <div *ngIf="editNiswasecDetailform.controls['meterNumber'].errors['maxlength']">
                    Meter Number must be at most 11 digits or characters
                  </div>
                </div>
              </div>
            </div>
            <!-- <div class="col-lg-4 col-sm-12">
              <div class="form-group">
                <label for="title" class="form-label">Billing Cycle*</label>
                <select type="text" name="billingCycle" formControlName="billingCycle" id="billingCycle"
                  class="form-control"
                  [ngClass]="{ 'is-invalid': submittedEditConsumer && editNiswasecDetailform.controls['billingCycle'].errors }">
                  <option value="" disabled="true">Select Billing Cycle</option>
                  <option *ngFor="let data of billingCycle" [value]="data.id">
                    {{ data.name }}
                  </option>
                </select>
                <div *ngIf="submittedEditConsumer && editNiswasecDetailform.controls['billingCycle'].errors"
                  class="form-text text-danger">
                  <div *ngIf="editNiswasecDetailform.controls['billingCycle'].errors['required']">
                    Billing Cycle is required</div>
                </div>
              </div>
            </div> -->
            <div class="col-lg-4 col-sm-12">
              <div class="mb-3">
                <label for="address" class="form-label">Connection Address*</label>
                <textarea type="text" formControlName="address" class="form-control" id="address" rows="1"
                  placeholder="Enter your Connection address"
                  [ngClass]="{ 'is-invalid': submittedEditConsumer && editNiswasecDetailform.controls['address'].errors }"></textarea>

                <div *ngIf="submittedEditConsumer && editNiswasecDetailform.controls['address'].errors"
                  class="form-text text-danger">
                  <div *ngIf="editNiswasecDetailform.controls['address'].errors['required']">
                    Connection Address is required</div>
                  <div *ngIf="editNiswasecDetailform.controls['address'].errors['minlength']">
                    Connection Address cannot
                    contain less than 6 characters</div>
                  <div *ngIf="editNiswasecDetailform.controls['address'].errors['maxlength']">
                    Connection Address be more than 200 characters
                  </div>
                </div>

              </div>
            </div>
            <div class="col-lg-4 col-sm-12">
              <div class="form-group">
                <label for="localGovtId" class="form-label">Local Goverment*</label>
                <select name="localGovtId" (change)="getDistrictsDataById()" formControlName="localGovtId"
                  id="localGovtId" class="form-control"
                  [ngClass]="{ 'is-invalid': submittedEditConsumer && editNiswasecDetailform.controls['localGovtId'].errors }">

                  <option value="" disabled="true">Select
                    Local Goverment</option>
                  <option *ngFor="let mydata of localGovtData" [value]="mydata.id">{{ mydata.name }}
                  </option>
                </select>
                <div *ngIf="submittedEditConsumer && editNiswasecDetailform.controls['localGovtId'].errors"
                  class="form-text text-danger">
                  <div *ngIf="editNiswasecDetailform.controls['localGovtId'].errors['required']">
                    Local Goverment is required</div>
                </div>
              </div>
            </div>
            <div class="col-lg-4 col-sm-12">
              <div class="form-group">
                <label for="district" class="form-label">District*</label>
                <select name="district" (change)="getZoneDatabyId()" formControlName="district" id="district"
                  class="form-control"
                  [ngClass]="{ 'is-invalid': submittedEditConsumer && editNiswasecDetailform.controls['district'].errors }">

                  <option value="" disabled="true">Select
                    District</option>
                  <option *ngFor="let mydata of distData" [value]="mydata.id">{{ mydata.name }}
                  </option>
                </select>
                <div *ngIf="submittedEditConsumer && editNiswasecDetailform.controls['district'].errors"
                  class="form-text text-danger">
                  <div *ngIf="editNiswasecDetailform.controls['district'].errors['required']">
                    District is required</div>
                </div>
              </div>
            </div>
            <div class="col-lg-4 col-sm-12">
              <div class="mb-3">
                <label for="zone" class="form-label">Zone*</label>
                <select type="text" name="zone" formControlName="zone" id="zone" class="form-control"
                  (change)="getRoundDataById()"
                  [ngClass]="{ 'is-invalid': submittedEditConsumer && editNiswasecDetailform.controls['zone'].errors }">

                  <option value="" disabled="true">Select Zone </option>
                  <option *ngFor="let data of zoneData" [value]="data.id">
                    {{ data.name }}
                  </option>
                </select>
                <div *ngIf="submittedEditConsumer && editNiswasecDetailform.controls['zone'].errors"
                  class="form-text text-danger">
                  <div *ngIf="editNiswasecDetailform.controls['zone'].errors['required']">
                    Zone is required</div>
                </div>
              </div>
            </div>

            <div class="col-lg-4 col-sm-12">
              <div class="form-group">
                <label for="round" class="form-label">Round*</label>
                <select name="round" formControlName="round" id="round" class="form-control"
                  [ngClass]="{ 'is-invalid': submittedEditConsumer && editNiswasecDetailform.controls['round'].errors }">

                  <option value="" disabled="true">Select
                    Round</option>
                  <option *ngFor="let mydata of roundData" [value]="mydata.id">{{ mydata.name }}
                  </option>
                </select>
                <div *ngIf="submittedEditConsumer && editNiswasecDetailform.controls['round'].errors"
                  class="form-text text-danger">
                  <div *ngIf="editNiswasecDetailform.controls['round'].errors['required']">
                    Round is required</div>
                </div>
              </div>
            </div>

            <div class="col-lg-4 col-sm-12">
              <div class="mb-3">
                <label for="name" class="form-label">
                  Tariff*</label>

                <select type="text" name="tariff" id="tariff" formControlName="tariff"
                  (change)="getbillgroup();getTariffByID($event)"
                  [ngClass]="{ 'is-invalid': submittedEditConsumer && editNiswasecDetailform.controls['tariff'].errors  }"
                  class="form-control">
                  <option value="" disabled="true">Select Tariff</option>
                  <option *ngFor="let data of tariffTypes" [value]="data.id">
                    {{ data.name }}
                  </option>
                </select>
                <div *ngIf="submittedEditConsumer && editNiswasecDetailform.controls['tariff'].errors"
                  class="form-text text-danger">
                  <div *ngIf="editNiswasecDetailform.controls['tariff'].errors['required']">
                    Tariff is required</div>
                </div>
              </div>
            </div>

            <div class="col-lg-4 col-sm-12">
              <div class="mb-3">
                <label for="name" class="form-label">
                  Sub-Tariff*</label>

                <select type="text" name="subtariff" id="subtariff" formControlName="subtariff"
                  (change)="getbillgroup()"
                  [ngClass]="{ 'is-invalid': submittedEditConsumer && editNiswasecDetailform.controls['subtariff'].errors  }"
                  class="form-control">
                  <option value="" disabled="true">Select Sub-Tariff</option>
                  <option *ngFor="let data of subtariffType" [value]="data.id">
                    {{ data.name }}
                  </option>
                </select>
                <div *ngIf="submittedEditConsumer && editNiswasecDetailform.controls['subtariff'].errors"
                  class="form-text text-danger">
                  <div *ngIf="editNiswasecDetailform.controls['subtariff'].errors['required']">
                    Sub-Tariff is required</div>
                </div>
              </div>
            </div>
            <div class="col-lg-4 col-sm-12">
              <div class="mb-3">
                <label for="name" class="form-label">
                  Bill Type</label>

                <select type="text" name="billType" id="billType" formControlName="billType" (change)="getbillgroup()"
                  class="form-control">
                  <option value="" disabled="true">Select Bill Type</option>
                  <option *ngFor="let data of billType" [value]="data.id">
                    {{ data.name }}
                  </option>
                </select>

              </div>
            </div>

            <div class="col-lg-4 col-sm-12">
              <div class="form-group">
                <label for="billingGroup" class="form-label">Billing Group*</label>
                <select name="billingGroup" formControlName="billingGroup" id="zone" class="form-control"
                  [ngClass]="{ 'is-invalid': submittedEditConsumer && editNiswasecDetailform.controls['billingGroup'].errors }">
                  <option value="" disabled="true">Select
                    Billing Group</option>
                  <option *ngFor="let mydata of billGroup" [value]="mydata.id">{{ mydata.name }}
                  </option>
                </select>
                <div *ngIf="submittedEditConsumer && editNiswasecDetailform.controls['billingGroup'].errors"
                  class="form-text text-danger">
                  <div *ngIf="editNiswasecDetailform.controls['billingGroup'].errors['required']">
                    Billing Group is required</div>
                </div>
              </div>
            </div>
            <div class="col-lg-4 col-sm-12">
              <div class="mb-3">
                <label for="lastbill" class="form-label">Last Billing Date*</label>
                <input type="date" name="lastbill" max="01/01/2021" min="01/01/1960" formControlName="lastbill"
                  id="dateOfBirth" class="form-control"
                  [ngClass]="{ 'is-invalid': submittedEditConsumer && editNiswasecDetailform.controls['lastbill'].errors  }" />
                <div *ngIf="submittedEditConsumer && editNiswasecDetailform.controls['lastbill'].errors"
                  class="form-text text-danger">
                  <div *ngIf="editNiswasecDetailform.controls['lastbill'].errors['required']">
                    Last Billing Date is required</div>
                </div>
              </div>
            </div>


            <div class="row">
              <div class="col-lg-4 col-sm-12">
                <div class="form-group">
                  <button class="theme_btn tp_two logo-button-website"
                    (click)="oneditNiswasecDetail(editNiswasecDetailform.value)" type="submit">
                    Update NISWASEC Profile</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>

  <div class="modal-footer">
    <button type="button" class="btn btn-outline-dark button-login" (click)="modal.close('Save click')">Close</button>
  </div>
</ng-template>

<ng-template #viewdetailsModal let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">NISWASEC Consumer Profile Detail</h4>
  </div>
  <div class="modal-body">
    <div class="card-body">
      <form id="smp-form" autocomplete="off" [formGroup]="viewDetailsform">
        <div class="messages"></div>
        <div class="controls">
          <br>
          <div class="row">
            <div class="col-lg-4 col-sm-12">
              <div class="form-group">
                <label for="title" class="form-label">Billing Cycle*</label>
                <select type="text" name="billingCycle" formControlName="billingCycle" id="billingCycle"
                  class="form-control">
                  <option value="" disabled="true">Select Billing Cycle</option>
                  <option *ngFor="let data of billingCycle" [value]="data.id">
                    {{ data.name }}
                  </option>
                </select>

              </div>
            </div>

            <div class="col-lg-4 col-sm-12">
              <div class="mb-3">
                <label for="gender" class="form-label">Approval Status*</label>
                <select type="text" name="gender" formControlName="approvalstatus" id="approvalstatus"
                  class="form-control">
                  <option value="" disabled="true">Select Approval Status</option>
                  <option *ngFor="let data of  approvalstatus" [value]="data.id">
                    {{ data.name }}
                  </option>
                </select>

              </div>
            </div>
            <div class="col-lg-4 col-sm-12">
              <div class="mb-3">
                <label for="title" class="form-label">Connection Status*</label>
                <select type="text" name="connectionStatus" formControlName="connectionStatus" id="connectionStatus"
                  class="form-control">
                  <option value="" disabled="true">Select Connection Status</option>
                  <option *ngFor="let data of connectionStatus" [value]="data.id">
                    {{ data.name }}
                  </option>
                </select>

              </div>
            </div>
            <div class="col-lg-4 col-sm-12">
              <div class="form-group">
                <label for="title" class="form-label">Meter Number*</label>
                <input type="text" formControlName="meterNumber" id="meterNumber" class="form-control"
                  placeholder="Enter Meter Number" />

              </div>
            </div>
            <div class="col-lg-4 col-sm-12">
              <div class="form-group">
                <label for="contractReference" class="form-label">Contract Reference *</label>
                <input type="text" formControlName="contractReference" id="contractReference" class="form-control" />

              </div>
            </div>
            <div class="col-lg-4 col-sm-12">
              <div class="form-group">
                <label for="localGovtId" class="form-label">Local Goverment*</label>
                <select name="localGovtId" (change)="getDistrictsData()" formControlName="localGovtId" id="localGovtId"
                  class="form-control">
                  <option value="" disabled="true">Select
                    Local Goverment</option>
                  <option *ngFor="let mydata of localGovtData" [value]="mydata.id">{{ mydata.name }}
                  </option>
                </select>

              </div>
            </div>
            <div class="col-lg-4 col-sm-12">
              <div class="form-group">
                <label for="localGovtId" class="form-label">District*</label>
                <select name="localGovtId" (change)="getZoneData()" formControlName="district" id="district"
                  class="form-control">
                  <option value="" disabled="true">Select
                    District</option>
                  <option *ngFor="let mydata of distData" [value]="mydata.id">{{ mydata.name }}
                  </option>
                </select>

              </div>
            </div>
            <div class="col-lg-4 col-sm-12">
              <div class="mb-3">
                <label for="zone" class="form-label">Zone*</label>
                <select type="text" name="zone" formControlName="zone" id="zone" class="form-control"
                  (change)="getRoundData()">
                  <option value="" disabled="true">Select Zone </option>
                  <option *ngFor="let data of zoneData" [value]="data.id">
                    {{ data.name }}
                  </option>
                </select>

              </div>
            </div>

            <div class="col-lg-4 col-sm-12">
              <div class="form-group">
                <label for="round" class="form-label">Round*</label>
                <select name="round" formControlName="round" id="zone" class="form-control">
                  <option value="" disabled="true">Select
                    Round</option>
                  <option *ngFor="let mydata of roundData" [value]="mydata.id">{{ mydata.name }}
                  </option>
                </select>

              </div>
            </div>
            <div class="col-lg-4 col-sm-12">
              <div class="mb-3">
                <label for="billGroup" class="form-label">
                  Billing Group*</label>
                <select type="text" name="billGroup" id="billGroup" formControlName="billGroup" class="form-control">
                  <option value="" disabled="true">Select Billing Group</option>
                  <option *ngFor="let data of billGroup" [value]="data.id">
                    {{ data.name }}
                  </option>
                </select>

              </div>
            </div>
            <div class="col-lg-4 col-sm-12">
              <div class="mb-3">
                <label for="consumercategory" class="form-label">
                  Consumer Category Type*</label>
                <select type="text" name="consumercategory" id="consumercategory" formControlName="consumercategory"
                  class="form-control">
                  <option value="" disabled="true">Select Consumer Category Type</option>
                  <option *ngFor="let data of consumercatgryTypes" [value]="data.id">
                    {{ data.name }}
                  </option>
                </select>

              </div>
            </div>

            <div class="col-lg-4 col-sm-12">
              <div class="mb-3">
                <label for="consumerSubcategory" class="form-label">
                  Consumer Sub-Category Type*</label>
                <select type="text" name="consumerSubcategory" id="consumerSubcategory"
                  formControlName="consumerSubcategory" class="form-control">
                  <option value="" disabled="true">Select Consumer Sub-Category Type</option>
                  <option *ngFor="let data of consumerSubCategory" [value]="data.id">
                    {{ data.name }}
                  </option>
                </select>

              </div>
            </div>
            <div class="col-lg-4 col-sm-12">
              <div class="mb-3">
                <label for="name" class="form-label">
                  Tariff*</label>

                <select type="text" name="tariff" id="tariff" formControlName="tariff" class="form-control">
                  <option value="" disabled="true">Select Tariff</option>
                  <option *ngFor="let data of tariffTypes" [value]="data.id">
                    {{ data.name }}
                  </option>
                </select>

              </div>
            </div>

            <div class="col-lg-4 col-sm-12">
              <div class="mb-3">
                <label for="name" class="form-label">
                  Sub-Tariff*</label>

                <select type="text" name="subtariff" id="subtariff" formControlName="subtariff" class="form-control">
                  <option value="" disabled="true">Select Sub-Tariff</option>
                  <option *ngFor="let data of subtariffTypes" [value]="data.id">
                    {{ data.name }}
                  </option>
                </select>

              </div>
            </div>

            <div class="col-lg-4 col-sm-12">
              <div class="mb-3">
                <label for="address" class="form-label">Connection Address*</label>
                <textarea type="text" formControlName="address" class="form-control" id="address" rows="1"
                  placeholder="Enter your Connection address"></textarea>

              </div>
            </div>
          </div>
        </div>
      </form>

    </div>
  </div>

  <div class="modal-footer">
    <button type="button" class="btn btn-outline-dark button-login" (click)="modal.close('Save click')">Close</button>
  </div>
</ng-template>

<ng-template #onboardConsumerModal let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Search Consumer (RAS)</h4>

    <button class="btn btn-sm btn-primary float-right" (click)="onboardingConsumer(onboardNewConsumerModal)">
      <i class="fas fa-plus-square"></i> Onboard Consumer
    </button>
  </div>
  <div class="modal-body">

    <div class="card-body">
      <form id="smp-form" [formGroup]="searchConsumerForm" autocomplete="off" class="mt-4"
        (ngSubmit)="onSubmitRASConsumerSearch()">
        <div class="form-row">
          <div class=" col-sm-3  mt-1">
            <div class="form-group">
              <select type="text" name="field" formControlName="field" class="form-control"
                [ngClass]="{ 'is-invalid': submittedsearchRas &amp;&amp; searchConsumerForm.controls['field'].errors }">
                <option value="" disabled="true">Select Type</option>
                <option value="name">Name</option>
                <option value="phone">Phone</option>
                <option value="email">Email</option>
              </select>
              <div *ngIf="submittedsearchRas &amp;&amp; searchConsumerForm.controls['field'].errors"
                class="form-text text-danger">
                <div *ngIf="searchConsumerForm.controls['field'].errors['required']">Type
                  is required</div>
              </div>
            </div>

          </div>
          <div class=" col-sm-3  mt-1">
            <div class="form-group">
              <input type="text" class="form-control" name="keyword" placeholder="Enter Name, Email or Phone"
                formControlName="keyword"
                [ngClass]="{ 'is-invalid': submittedsearchRas && searchConsumerForm.controls['keyword'].errors}" />

              <div *ngIf="submittedsearchRas &amp;&amp; searchConsumerForm.controls['keyword'].errors"
                class="form-text text-danger">
                <div *ngIf="searchConsumerForm.controls['keyword'].errors['required']">Name, Email or Phone
                  is required</div>
              </div>
            </div>
          </div>
          <div class=" col-sm-3  mt-1">
            <div class="form-group">
              <select type="text" name="category" formControlName="category" class="form-control"
                [ngClass]="{ 'is-invalid': submittedsearchRas &amp;&amp; searchConsumerForm.controls['category'].errors }">
                <option value="" disabled="true">Select Consumer Category</option>
                <option value="corporate">Corporate</option>
                <option value="individual">Individual</option>

              </select>
              <div *ngIf="submittedsearchRas &amp;&amp; searchConsumerForm.controls['category'].errors"
                class="form-text text-danger">
                <div *ngIf="searchConsumerForm.controls['category'].errors['required']">Consumer Category
                  is required</div>
              </div>
            </div>
          </div>

        </div>

        <div class=" col-sm-5 mt-1">
          <button type="submit" class="btn btn-primary font-12 smp-button">
            <i class="fas fa-search"></i> Search
          </button>
          <button type="button" class="btn btn-primary font-12 smp-button-clear" (click)="clearSearch1()">
            <i class="fas fa-sync-alt"></i> Clear
          </button>
        </div>
      </form>
      <!-- /.card-header -->
    </div>

    <br />
    <div class="card-body">
      <!-- <div class="col-auto mbm-30">
        <div class="row" *ngIf="searchedConsumerData">
          <div>
            Show &nbsp;
            <select (change)="setItemsPerPage(page.value)" #page>
              <option [selected]="currentPageLength == 10">10</option>
              <option [selected]="currentPageLength == 30">30</option>
              <option [selected]="currentPageLength == 50">50</option>
              <option [selected]="currentPageLength == 100">100</option>
              <option [selected]="currentPageLength == 500">500</option>
              <option [selected]="currentPageLength == 1000">1000</option>
            </select>
            &nbsp; entries
          </div>
        </div>
      </div> -->

      <div class="col-auto mb-4">
        <div class="row m-35" *ngIf="searchedConsumerData">
          <div class="col-sm-4" style="z-index: 1;">
            <span>Show &nbsp; </span>
            <select (change)="setItemsPerPageCons(page.value)" #page>
              <option [selected]="currentPageConsumerLength == 10">10</option>
              <option [selected]="currentPageConsumerLength == 30">30</option>
              <option [selected]="currentPageConsumerLength == 50">50</option>
              <option [selected]="currentPageConsumerLength == 100">100</option>
              <option [selected]="currentPageConsumerLength == 500">500</option>
              <option [selected]="currentPageConsumerLength == 1000">1000</option>
            </select>
            <span> &nbsp; entries </span>
          </div>
        </div>
      </div>
      <div>
        <div class="table-responsive">
          <table class="table table-bordered table-sm row-border hover mt-4 " id="example2"
            *ngIf="searchedConsumerData, else content" datatable [dtOptions]="dtOptionsPopUp1">
            <thead style="white-space: nowrap;">
              <tr>
                <th>S/N</th>
                <th>Name</th>
                <th>Email</th>
                <th>Phone</th>
                <th>Taxpayer Name</th>
                <th>Taxpayer Id</th>
                <th>TIN</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody style="white-space: nowrap;">
              <tr *ngFor="let mydata of searchedConsumerData | paginate : configRAS; let i = index">
                <td> {{ configRAS.itemsPerPage * (configRAS.currentPage - 1) + i + 1 }}</td>

                <td>{{ mydata.name }} </td>
                <td>{{ mydata.email}} </td>
                <td>{{ mydata.phone}} </td>
                <td>{{ mydata.company_name }} </td>
                <td>{{ mydata.taxpayer_id}}</td>
                <td>{{ mydata.tin }}</td>

                <td style="width: 10%">
                  <button class="btn btn-sm btn-outline-success"
                    (click)="viewOnboardRas(onboardNewConsumerModal,mydata)">
                    <i class="nav-icon fas fa-eye"></i> Onboard
                  </button>
                </td>
              </tr>
            </tbody>
          </table>

          <ng-template #content>
            <table class="table table-bordered table-sm row-border hover mt-4 " id="example2" datatable
              [dtOptions]="dtOptionsPopUp1">
              <thead style="white-space: nowrap;">
                <tr>
                  <th>S/N</th>
                  <th>Company Name</th>
                  <th>Email</th>
                  <th>Phone</th>
                  <th>Taxpayer Name</th>
                  <th>Taxpayer Id</th>
                  <th>TIN</th>
                  <th>Action</th>
                </tr>
              </thead>
              <tbody style="white-space: nowrap;">
                <tr *ngFor="let mydata of searchedConsumerData; let i = index">
                  <td>{{ i + 1 }}</td>
                  <td>{{ mydata.name }} </td>
                  <td>{{ mydata.email}} </td>
                  <td>{{ mydata.phone}} </td>
                  <td>{{ mydata.company_name }} </td>
                  <td>{{ mydata.taxpayer_id}}</td>
                  <td>{{ mydata.tin }}</td>

                  <td style="width: 10%">
                    <button class="btn btn-sm btn-outline-success"
                      (click)="viewOnboardRas(onboardNewConsumerModal,mydata)">
                      <i class="nav-icon fas fa-eye"></i> Onboard
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
          </ng-template>
        </div>
        <div class="row m-0 mt-3">
          <div class="col-sm-6">
            <div id="page_info" class="record-show-text-bottom" *ngIf="searchedConsumerData">
              Showing
              {{ (configRAS.currentPage - 1) * configRAS.itemsPerPage + 1 }} -
              {{ configRAS.currentPage * configRAS.itemsPerPage }} &nbsp; of
              &nbsp;{{ configRAS.totalItems }}
              &nbsp; entries
            </div>
          </div>
          <div class="col-sm-6">
            <div *ngIf="searchedConsumerData">
              <pagination-controls id="rasPaging" (pageChange)="pageChange($event)" class="float-right">
              </pagination-controls>
            </div>
          </div>
        </div>
        <!-- <div id="page_info" class="mt-3 record-show-text-bottom" *ngIf="searchedConsumerData">
                        Showing {{ (config.currentPage - 1) * config.itemsPerPage + 1 }} -
                        {{ config.currentPage * config.itemsPerPage }} &nbsp; of &nbsp;{{
                        config.totalItems
                        }}
                        &nbsp; entries
                    </div>

                    <div *ngIf="searchedConsumerData">
                        <pagination-controls (pageChange)="pageChange($event)" class="float-right">

                        </pagination-controls>
                    </div> -->
      </div>

    </div>

  </div>

  <div class="modal-footer">
    <button type="button" class="btn btn-outline-dark button-login"
      (click)="modal.close('Save click'); clickExistingAssets()">Close</button>
  </div>
</ng-template>

<ng-template #onboardNewConsumerModal let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Onboard Consumer</h4>
  </div>
  <div class="modal-body">
    <div class="card-body">
      <!-- -->
      <form id="smp-form" [formGroup]="selectForm" autocomplete="off" class="mt-1" *ngIf="!isRASonboarding">
        <div class="form-row">

          <div class="col-lg-4 col-sm-12">
            <div class="mb-3">
              <label for="consumercategory" class="form-label">
                Consumer Category Type*</label>
              <select type="text" name="consumercategory" id="consumercategory" formControlName="consumercategory"
                [ngClass]="{'is-invalid':
                        submittedSelect && selectForm.controls['consumercategory'].errors
                           }" class="form-control" (change)="onChange($event)">
                <option value="" disabled="true">Select Consumer Category Type</option>
                <option *ngFor="let data of consumercatgryTypes" [value]="data.id">
                  {{ data.name }}
                </option>
              </select>
            </div>
          </div>
        </div>

      </form>
      <div *ngIf="selectForm.controls['consumercategory'].value == 1">
        <h5 class="modal-title" id="modal-basic-title">Add new Individual</h5>
        <form id="smp-form" autocomplete="off" [formGroup]="onboardConsumerForm">
          <div class="messages"></div>
          <div class="controls">
            <br>
            <div class="row">
              <div class="col-lg-4 col-sm-12" *ngIf="isRASonboarding">
                <div class="form-group">
                  <label for="title" class="form-label">Taxpayer Id*</label>
                  <input type="text" formControlName="taxpayerId" id="taxpayerId" onfocus="blur();" readonly
                    class="form-control" placeholder="Enter Taxpayer Id" [ngClass]="{
                          'is-invalid':
                          submittedonboardConsumerForm && onboardConsumerForm.controls['taxpayerId'].errors
                        }" />

                </div>
              </div>
              <div class="col-lg-4 col-sm-12">
                <div class="form-group">
                  <label for="title" class="form-label">Title*</label>
                  <select type="text" name="Title" formControlName="title" id="title" class="form-control"
                    [ngClass]="{ 'is-invalid': submittedonboardConsumerForm && onboardConsumerForm.controls['title'].errors }">
                    <option value="" disabled="true">Select Title</option>
                    <option *ngFor="let data of titlesData" [value]="data.id">
                      {{ data.name }}
                    </option>
                  </select>
                  <div *ngIf="submittedonboardConsumerForm && onboardConsumerForm.controls['title'].errors"
                    class="form-text text-danger">
                    <div *ngIf="onboardConsumerForm.controls['title'].errors['required']">
                      Title is required</div>
                  </div>
                </div>
              </div>

              <div class="col-lg-4 col-sm-12">
                <div class="mb-3">
                  <label for="firstName" class="form-label">First Name*</label>
                  <input type="text" formControlName="firstName" maxlength="30" id="firstName" class="form-control"
                    placeholder="Enter First Name" [ngClass]="{
                          'is-invalid':
                          submittedonboardConsumerForm && onboardConsumerForm.controls['firstName'].errors
                        }" />
                  <div *ngIf="
                  submittedonboardConsumerForm && onboardConsumerForm.controls['firstName'].errors
                        " class="form-text text-danger">
                    <div *ngIf="
                          onboardConsumerForm.controls['firstName'].errors['required']
                          ">
                      First Name is required
                    </div>
                    <div *ngIf="
                          onboardConsumerForm.controls['firstName'].errors['pattern']
                          ">
                      Please enter a valid First Name
                    </div>
                    <div *ngIf="
                          onboardConsumerForm.controls['firstName'].errors['maxlength']
                          ">
                      First Name must be at most 30 characters
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-lg-4 col-sm-12">
                <div class="mb-3">
                  <label for="middleName" class="form-label">Middle Name</label>
                  <input type="text" formControlName="middleName" maxlength="30" id="middleName" class="form-control"
                    placeholder="Enter Middle Name" [ngClass]="{
                          'is-invalid':
                          submittedonboardConsumerForm
                          && onboardConsumerForm.controls['middleName'].errors
                        }" />
                  <div *ngIf="submittedonboardConsumerForm
                  && onboardConsumerForm.controls['middleName'].errors
                        " class="text-danger">
                    <div *ngIf="
                          onboardConsumerForm.controls['middleName'].errors['pattern']
                          ">
                      Please enter a valid Middle Name
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-lg-4 col-sm-12">
                <div class="mb-3">
                  <label for="lastName" class="form-label">Last Name*</label>
                  <input type="text" formControlName="lastName" maxlength="30" id="lastName" class="form-control"
                    placeholder="Enter Last Name" [ngClass]="{
                          'is-invalid':
                          submittedonboardConsumerForm && onboardConsumerForm.controls['lastName'].errors
                        }" />
                  <div *ngIf="
                  submittedonboardConsumerForm && onboardConsumerForm.controls['lastName'].errors
                        " class="form-text text-danger">
                    <div *ngIf="
                          onboardConsumerForm.controls['lastName'].errors['required']
                          ">
                      Last Name is required
                    </div>
                    <div *ngIf="
                          onboardConsumerForm.controls['lastName'].errors['pattern']
                          ">
                      Please enter a valid Last Name
                    </div>
                    <div *ngIf="
                          onboardConsumerForm.controls['lastName'].errors['maxlength']
                          ">
                      Last Name must be at most 30 characters
                    </div>
                  </div>
                </div>
              </div>

              <div class="col-lg-4 col-sm-12">
                <div class="mb-3">
                  <label for="emailAddress" class="form-label">Email*</label>
                  <input type="text" class="form-control" name="emailAddress" placeholder="Email Address"
                    formControlName="emailAddress" id="emailAddress" maxlength="45" [ngClass]="{
                          'is-invalid':
                          submittedonboardConsumerForm &&
                            onboardConsumerForm.controls['emailAddress'].errors
                        }" />

                  <div *ngIf="
                  submittedonboardConsumerForm && onboardConsumerForm.controls['emailAddress'].errors
                        " class="form-text text-danger">
                    <div *ngIf="
                          onboardConsumerForm.controls['emailAddress'].errors[
                              'required'
                            ]
                          ">
                      Email Address is required
                    </div>
                    <div *ngIf="
                          onboardConsumerForm.controls['emailAddress'].errors[
                              'maxlength'
                            ]
                          ">
                      Email Address be more than 60 characters
                    </div>
                    <div *ngIf="
                          onboardConsumerForm.controls['emailAddress'].errors['pattern']
                          ">
                      Email Address must contain alphabets
                    </div>
                  </div>
                </div>
              </div>


              <div class="col-lg-4 col-sm-12">
                <div class="mb-3">
                  <label for="phoneNumber" class="form-label">Mobile*</label>

                  <input type="text" class="form-control" name="phoneNumber" maxlength="11" placeholder="Mobile Number"
                    id="phoneNumber" (keypress)="keyPressNumbersWithDecimal($event)" formControlName="phoneNumber"
                    [ngClass]="{'is-invalid': submittedonboardConsumerForm && onboardConsumerForm.controls['phoneNumber'].errors}" />

                  <div *ngIf="submittedonboardConsumerForm && onboardConsumerForm.controls['phoneNumber'].errors"
                    class="form-text text-danger">
                    <div *ngIf="onboardConsumerForm.controls['phoneNumber'].errors['required']">
                      Mobile Number is required
                    </div>
                    <div *ngIf="onboardConsumerForm.controls['phoneNumber'].errors['maxlength']">
                      Mobile Number must be at most 11 digit Long
                    </div>

                    <div *ngIf="onboardConsumerForm.controls['phoneNumber'].errors['pattern']">
                      Enter a valid Mobile Number
                    </div>
                  </div>
                </div>
              </div>



              <div class="col-lg-4 col-sm-12">
                <div class="mb-3">
                  <label for="gender" class="form-label">Gender*</label>
                  <select type="text" name="gender" formControlName="gender" id="gender" class="form-control"
                    [ngClass]="{ 'is-invalid': submittedonboardConsumerForm && onboardConsumerForm.controls['gender'].errors  }">
                    <option value="" disabled="true">Select Gender</option>
                    <option *ngFor="let data of  genderData" [value]="data.id">
                      {{ data.name }}
                    </option>
                  </select>
                  <div *ngIf="submittedonboardConsumerForm && onboardConsumerForm.controls['gender'].errors"
                    class="form-text text-danger">
                    <div *ngIf="onboardConsumerForm.controls['gender'].errors['required']">
                      Gender is required</div>
                  </div>
                </div>
              </div>

              <div class="col-lg-4 col-sm-12">
                <div class="form-group">
                  <label for="countryId" class="form-label">Nationality*</label>
                  <select name="countryId" formControlName="countryId" id="countryId" class="form-control"
                    [ngClass]="{ 'is-invalid': submittedonboardConsumerForm && onboardConsumerForm.controls['countryId'].errors }">
                    <option value="" disabled="true">Select
                      Nationality</option>
                    <option *ngFor="let country of countriesData" [value]="country.id">{{ country.name }}
                    </option>
                  </select>
                  <div *ngIf="submittedonboardConsumerForm && onboardConsumerForm.controls['countryId'].errors"
                    class="form-text text-danger">
                    <div *ngIf="onboardConsumerForm.controls['countryId'].errors['required']">
                      Nationality is required</div>
                  </div>
                </div>
              </div>

              <div class="col-lg-4 col-sm-12">
                <div class="form-group">
                  <label for="stateId" class="form-label">State*</label>
                  <select name="stateId" formControlName="stateId" id="stateId" class="form-control"
                    [ngClass]="{ 'is-invalid': submittedonboardConsumerForm && onboardConsumerForm.controls['stateId'].errors }">
                    <option value="" disabled="true">Select
                      State</option>
                    <option *ngFor="let state of stateData" [value]="state.id">{{ state.name }}
                    </option>
                  </select>
                  <div *ngIf="submittedonboardConsumerForm && onboardConsumerForm.controls['stateId'].errors"
                    class="form-text text-danger">
                    <div *ngIf="onboardConsumerForm.controls['stateId'].errors['required']">
                      State is required</div>
                  </div>
                </div>
              </div>

              <div class="col-lg-4 col-sm-12">
                <div class="form-group">
                  <label for="localGovtId" class="form-label">Local Goverment*</label>
                  <select name="localGovtId" formControlName="localGovtId" id="localGovtId" class="form-control"
                    [ngClass]="{ 'is-invalid': submittedonboardConsumerForm && onboardConsumerForm.controls['localGovtId'].errors }">
                    <option value="" disabled="true">Select
                      Local Goverment</option>
                    <option *ngFor="let mydata of localeGovtData" [value]="mydata.id">{{ mydata.name }}
                    </option>
                  </select>
                  <div *ngIf="submittedonboardConsumerForm && onboardConsumerForm.controls['localGovtId'].errors"
                    class="form-text text-danger">
                    <div *ngIf="onboardConsumerForm.controls['localGovtId'].errors['required']">
                      Local Goverment is required</div>
                  </div>
                </div>
              </div>

              <div class="col-lg-4 col-sm-12">
                <div class="form-group">
                  <label for="taxoffc" class="form-label">Tax Office*</label>
                  <select name="taxoffc" formControlName="taxoffc" id="taxoffc" class="form-control"
                    [ngClass]="{ 'is-invalid': submittedonboardConsumerForm && onboardConsumerForm.controls['taxoffc'].errors }">
                    <option value="" disabled="true">Select
                      Tax Office</option>
                    <option *ngFor="let mydata of taxOfficeData" [value]="mydata.id">{{ mydata.name }}
                    </option>
                  </select>
                  <div *ngIf="submittedonboardConsumerForm && onboardConsumerForm.controls['taxoffc'].errors"
                    class="form-text text-danger">
                    <div *ngIf="onboardConsumerForm.controls['taxoffc'].errors['required']">
                      Tax Office is required</div>
                  </div>
                </div>
              </div>
              <div class="col-lg-4 col-sm-12">
                <div class="mb-3">
                  <label for="dateOfBirth" class="form-label">Date
                    of Birth*</label>
                  <input type="date" name="dateOfBirth" max="01/01/2021" min="01/01/1960" formControlName="dateOfBirth"
                    id="dateOfBirth" class="form-control" (keydown)="disableDate()"
                    [ngClass]="{ 'is-invalid': submittedonboardConsumerForm && onboardConsumerForm.controls['dateOfBirth'].errors  }"
                    [max]="date" [min]="minDate" />
                  <div *ngIf="submittedonboardConsumerForm && onboardConsumerForm.controls['dateOfBirth'].errors"
                    class="form-text text-danger">
                    <div *ngIf="onboardConsumerForm.controls['dateOfBirth'].errors['required']">
                      Date of Birth is required</div>
                  </div>
                </div>
              </div>

              <div class="col-lg-4 col-sm-12">
                <div class="mb-3">
                  <label for="maritalStatus" class="form-label">Marital Status*</label>
                  <select type="text" name="maritalStatus" id="maritalStatus" formControlName="maritalStatus"
                    class="form-control"
                    [ngClass]="{ 'is-invalid': submittedonboardConsumerForm && onboardConsumerForm.controls['maritalStatus'].errors  }">
                    <option value="" disabled="true">Select Marital Status
                    </option>
                    <option *ngFor="let data of  maritalStatusData" [value]="data.id">
                      {{ data.name }}
                    </option>
                  </select>
                  <div *ngIf="submittedonboardConsumerForm && onboardConsumerForm.controls['maritalStatus'].errors"
                    class="form-text text-danger">
                    <div *ngIf="onboardConsumerForm.controls['maritalStatus'].errors['required']">
                      Marital Status is required</div>
                  </div>
                </div>
              </div>

              <div class="col-lg-4 col-sm-12">
                <div class="mb-3">
                  <label for="occupation" class="form-label">
                    Occupation*</label>

                  <select type="text" name="occupation" id="occupation" formControlName="occupation"
                    class="form-control"
                    [ngClass]="{ 'is-invalid': submittedonboardConsumerForm && onboardConsumerForm.controls['occupation'].errors  }">

                    <option value="" disabled="true">Select Occupation</option>
                    <option *ngFor="let data of occupationData" [value]="data.id">
                      {{ data.name }}
                    </option>
                  </select>
                  <div *ngIf="submittedonboardConsumerForm && onboardConsumerForm.controls['occupation'].errors"
                    class="form-text text-danger">
                    <div *ngIf="onboardConsumerForm.controls['occupation'].errors['required']">
                      Occupation is required</div>
                  </div>
                </div>
              </div>


              <div class="col-lg-4 col-sm-12" *ngIf="isRASonboarding">
                <div class="mb-3">
                  <label for="consumercategory" class="form-label">
                    Consumer Category Type*</label>
                  <select type="text" name="consumercategory" id="consumercategory" [(ngModel)]="selectedVal"
                    formControlName="consumercategory" [ngClass]="{'is-invalid':
                    submittedonboardConsumerForm && onboardConsumerForm.controls['consumercategory'].errors
                         }" class="form-control">
                    <option value="" disabled="true">Select Consumer Category Type</option>
                    <option *ngFor="let data of consumercatgryTypes" [value]="data.id">
                      {{ data.name }}
                    </option>
                  </select>
                  <div *ngIf="submittedonboardConsumerForm && onboardConsumerForm.controls['consumercategory'].errors"
                    class="form-text text-danger">
                    <div *ngIf="onboardConsumerForm.controls['consumercategory'].errors['required']">
                      Consumer Category Type is required</div>

                  </div>
                </div>
              </div>
              <div class="col-lg-4 col-sm-12">
                <div class="mb-3">
                  <label for="consumerSubcategory" class="form-label">
                    Consumer Sub-Category Type*</label>
                  <select type="text" name="consumerSubcategory" id="consumerSubcategory"
                    formControlName="consumerSubcategory" [ngClass]="{'is-invalid':
                    submittedonboardConsumerForm && onboardConsumerForm.controls['consumerSubcategory'].errors
                         }" class="form-control">
                    <option value="" disabled="true">Select Consumer Sub-Category Type</option>
                    <option *ngFor="let data of subCategory" [value]="data.id">
                      {{ data.name }}
                    </option>
                  </select>
                  <div
                    *ngIf="submittedonboardConsumerForm && onboardConsumerForm.controls['consumerSubcategory'].errors"
                    class="form-text text-danger">
                    <div *ngIf="onboardConsumerForm.controls['consumerSubcategory'].errors['required']">
                      Consumer Sub-Category Type is required</div>

                  </div>
                </div>
              </div>
              <!-- <div class="col-lg-4 col-sm-12">
                <div class="mb-3">
                  <label for="mode" class="form-label">
                    Mode*</label>
                  <select type="text" name="mode" id="mode" formControlName="mode"
                    [ngClass]="{'is-invalid':submittedonboardConsumerForm && onboardConsumerForm.controls['mode'].errors }"
                    class="form-control">
                    <option value="" disabled="true">Select Mode</option>
                    <option value="NEW">NEW</option>
                    <option value="EXISTING">EXISTING</option>
                  </select>
                  <div *ngIf="submittedonboardConsumerForm && onboardConsumerForm.controls['mode'].errors"
                    class="form-text text-danger">
                    <div *ngIf="onboardConsumerForm.controls['mode'].errors['required']">
                      Mode is required</div>

                  </div>
                </div>
              </div> -->
              <div class="col-lg-4 col-sm-12">
                <div class="mb-3">
                  <label for="title" class="form-label">BVN</label>
                  <input type="text" formControlName="bvn" id="bvn" (keypress)="keyPressNumbersWithDecimal($event)"
                    maxlength="11" class="form-control" placeholder="Enter BVN" [ngClass]="{
                        'is-invalid':
                        submittedonboardConsumerForm && onboardConsumerForm.controls['bvn'].errors
                      }" />
                  <div *ngIf="submittedonboardConsumerForm && onboardConsumerForm.controls['bvn'].errors"
                    class="form-text text-danger">
                    <div *ngIf="onboardConsumerForm.controls['bvn'].errors['maxlength']">
                      BVN must be at most 11 digit Long
                    </div>

                    <div *ngIf="onboardConsumerForm.controls['bvn'].errors['minlength']">
                      BVN must be at least 11 digit long
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-lg-4 col-sm-12">
                <div class="mb-3">
                  <label for="title" class="form-label">TIN</label>
                  <input type="text" formControlName="tin" id="tin" maxlength="11" class="form-control"
                    placeholder="Enter TIN" [ngClass]="{
                      'is-invalid':
                      submittedonboardConsumerForm && onboardConsumerForm.controls['tin'].errors
                    }" (keypress)="keyPressNumbersWithDecimal($event)" />
                  <div *ngIf="submittedonboardConsumerForm && onboardConsumerForm.controls['tin'].errors"
                    class="form-text text-danger">
                    <div *ngIf="onboardConsumerForm.controls['tin'].errors['maxlength']">
                      TIN must be at most 11 digit Long
                    </div>

                    <div *ngIf="onboardConsumerForm.controls['tin'].errors['minlength']">
                      TIN must be at least 11 digit long
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-lg-4 col-sm-12">
                <div class="mb-3">
                  <label for="title" class="form-label">NIN</label>
                  <input type="text" formControlName="nin" id="nin" maxlength="11" class="form-control"
                    placeholder="Enter NIN" [ngClass]="{
                      'is-invalid':
                      submittedonboardConsumerForm && onboardConsumerForm.controls['nin'].errors
                    }" (keypress)="keyPressNumbersWithDecimal($event)" />
                  <div *ngIf="submittedonboardConsumerForm && onboardConsumerForm.controls['nin'].errors"
                    class="form-text text-danger">
                    <div *ngIf="onboardConsumerForm.controls['nin'].errors['maxlength']">
                      NIN must be at most 11 digit Long
                    </div>

                    <div *ngIf="onboardConsumerForm.controls['nin'].errors['minlength']">
                      NIN must be at least 11 digit long
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-lg-4 col-sm-12">
                <div class="mb-3">
                  <label for="address" class="form-label">Address*</label>
                  <textarea type="text" formControlName="address" class="form-control" id="address" rows="1"
                    placeholder="Enter your residential address"
                    [ngClass]="{ 'is-invalid': submittedonboardConsumerForm && onboardConsumerForm.controls['address'].errors }"></textarea>

                  <div *ngIf="submittedonboardConsumerForm && onboardConsumerForm.controls['address'].errors"
                    class="form-text text-danger">
                    <div *ngIf="onboardConsumerForm.controls['address'].errors['required']">
                      Address is required</div>
                    <div *ngIf="onboardConsumerForm.controls['address'].errors['minlength']">
                      Address cannot
                      contain less than 6 characters</div>
                    <div *ngIf="onboardConsumerForm.controls['address'].errors['maxlength']">
                      Address be more than 200 characters
                    </div>
                  </div>

                </div>
              </div>


              <div class="row">
                <div class="col-lg-4 col-sm-12">
                  <div class="form-group">
                    <button class="theme_btn tp_two logo-button-website"
                      (click)="consumerOnboard(onboardConsumerForm.value)" type="submit">
                      Onboard Consumer</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </form>
      </div>

      <div *ngIf="selectForm.controls['consumercategory'].value == 2">
        <h5 class="modal-title" id="modal-basic-title">Add new Corporate</h5>
        <form id="smp-form" autocomplete="off" [formGroup]="onboardCorporateForm">
          <div class="messages"></div>
          <div class="controls">
            <br>
            <div class="row">

              <div class="col-lg-4 col-sm-12" *ngIf="isRASonboarding">
                <div class="form-group">
                  <label for="title" class="form-label">Taxpayer Id*</label>
                  <input type="text" formControlName="taxpayerId" id="taxpayerId" onfocus="blur();" readonly
                    class="form-control" placeholder="Enter Taxpayer Id" [ngClass]="{
                          'is-invalid':
                            submittedonboardCorporateForm && onboardCorporateForm.controls['taxpayerId'].errors
                        }" />

                </div>
              </div>
              <div class="col-lg-4 col-sm-12">
                <div class="form-group">
                  <label for="title" class="form-label">Title*</label>
                  <select type="text" name="Title" formControlName="title" id="title" class="form-control"
                    [ngClass]="{ 'is-invalid': submittedonboardCorporateForm && onboardCorporateForm.controls['title'].errors }">
                    <option value="" disabled="true">Select Title</option>
                    <option *ngFor="let data of titlesData" [value]="data.id">
                      {{ data.name }}
                    </option>
                  </select>
                  <div *ngIf="submittedonboardCorporateForm && onboardCorporateForm.controls['title'].errors"
                    class="form-text text-danger">
                    <div *ngIf="onboardCorporateForm.controls['title'].errors['required']">
                      Title is required</div>
                  </div>
                </div>
              </div>

              <div class="col-lg-4 col-sm-12">
                <div class="mb-3">
                  <label for="firstName" class="form-label">First Name*</label>
                  <input type="text" formControlName="firstName" maxlength="30" id="firstName" class="form-control"
                    placeholder="Enter First Name" [ngClass]="{
                          'is-invalid':
                          submittedonboardCorporateForm && onboardCorporateForm.controls['firstName'].errors
                        }" />
                  <div *ngIf="submittedonboardCorporateForm && onboardCorporateForm.controls['firstName'].errors"
                    class="form-text text-danger">
                    <div *ngIf="onboardCorporateForm.controls['firstName'].errors['required']">
                      First Name is required
                    </div>
                    <div *ngIf="onboardCorporateForm.controls['firstName'].errors['pattern']">
                      Please enter a valid First Name
                    </div>
                    <div *ngIf="onboardCorporateForm.controls['firstName'].errors['maxlength']">
                      First Name must be at most 30 characters
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-lg-4 col-sm-12">
                <div class="mb-3">
                  <label for="middleName" class="form-label">Middle Name</label>
                  <input type="text" formControlName="middleName" maxlength="30" id="middleName" class="form-control"
                    placeholder="Enter Middle Name"
                    [ngClass]="{'is-invalid': submittedonboardCorporateForm && onboardCorporateForm.controls['middleName'].errors}" />
                  <div *ngIf="submittedonboardCorporateForm && onboardCorporateForm.controls['middleName'].errors"
                    class="text-danger">
                    <div *ngIf="onboardCorporateForm.controls['middleName'].errors['pattern']">
                      Please enter a valid Middle Name
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-lg-4 col-sm-12">
                <div class="mb-3">
                  <label for="lastName" class="form-label">Last Name*</label>
                  <input type="text" formControlName="lastName" maxlength="30" id="lastName" class="form-control"
                    placeholder="Enter Last Name"
                    [ngClass]="{'is-invalid':submittedonboardCorporateForm && onboardCorporateForm.controls['lastName'].errors}" />
                  <div *ngIf="submittedonboardCorporateForm && onboardCorporateForm.controls['lastName'].errors"
                    class="form-text text-danger">
                    <div *ngIf="onboardCorporateForm.controls['lastName'].errors['required']">
                      Last Name is required
                    </div>
                    <div *ngIf="onboardCorporateForm.controls['lastName'].errors['pattern']">
                      Please enter a valid Last Name
                    </div>
                    <div *ngIf="onboardCorporateForm.controls['lastName'].errors['maxlength']">
                      Last Name must be at most 30 characters
                    </div>
                  </div>
                </div>
              </div>

              <div class="col-lg-4 col-sm-12">
                <div class="mb-3">
                  <label for="emailAddress" class="form-label">Email*</label>
                  <input type="text" class="form-control" name="emailAddress" placeholder="Email Address"
                    formControlName="emailAddress" id="emailAddress" maxlength="45"
                    [ngClass]="{
                          'is-invalid':submittedonboardCorporateForm && onboardCorporateForm.controls['emailAddress'].errors}" />
                  <div *ngIf="submittedonboardCorporateForm && onboardCorporateForm.controls['emailAddress'].errors"
                    class="form-text text-danger">
                    <div *ngIf="onboardCorporateForm.controls['emailAddress'].errors['required']">
                      Email Address is required
                    </div>
                    <div *ngIf="onboardCorporateForm.controls['emailAddress'].errors['maxlength']">
                      Email Address be more than 60 characters
                    </div>
                    <div *ngIf="onboardCorporateForm.controls['emailAddress'].errors['pattern']">
                      Email Address must contain alphabets
                    </div>
                  </div>
                </div>
              </div>

              <div class="col-lg-4 col-sm-12">
                <div class="mb-3">
                  <label for="phoneNumber" class="form-label">Mobile*</label>

                  <input type="text" class="form-control" name="phoneNumber" maxlength="11" placeholder="Mobile Number"
                    id="phoneNumber" (keypress)="keyPressNumbersWithDecimal($event)" formControlName="phoneNumber"
                    [ngClass]="{'is-invalid': submittedonboardCorporateForm && onboardCorporateForm.controls['phoneNumber'].errors}" />

                  <div *ngIf="submittedonboardCorporateForm && onboardCorporateForm.controls['phoneNumber'].errors"
                    class="form-text text-danger">
                    <div *ngIf="onboardCorporateForm.controls['phoneNumber'].errors['required']">
                      Mobile Number is required
                    </div>
                    <div *ngIf="onboardCorporateForm.controls['phoneNumber'].errors['maxlength']">
                      Mobile Number must be at most 11 digit Long
                    </div>
                    <div *ngIf="onboardCorporateForm.controls['phoneNumber'].errors['minlength']">
                      Mobile Number must be at least 11 digit long
                    </div>
                    <div *ngIf="onboardCorporateForm.controls['phoneNumber'].errors['pattern']">
                      Enter a valid Mobile Number
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-lg-4 col-sm-12">
                <div class="mb-3">
                  <label for="gender" class="form-label">Gender*</label>
                  <select type="text" name="gender" formControlName="gender" id="gender" class="form-control"
                    [ngClass]="{ 'is-invalid': submittedonboardCorporateForm && onboardCorporateForm.controls['gender'].errors  }">
                    <option value="" disabled="true">Select Gender</option>
                    <option *ngFor="let data of  genderData" [value]="data.id">
                      {{ data.name }}
                    </option>
                  </select>
                  <div *ngIf="submittedonboardCorporateForm && onboardCorporateForm.controls['gender'].errors"
                    class="form-text text-danger">
                    <div *ngIf="onboardCorporateForm.controls['gender'].errors['required']">
                      Gender is required</div>
                  </div>
                </div>
              </div>

              <div class="col-lg-4 col-sm-12">
                <div class="form-group">
                  <label for="countryId" class="form-label">Nationality*</label>
                  <select name="countryId" formControlName="countryId" id="countryId" (change)="getStates()"
                    class="form-control"
                    [ngClass]="{ 'is-invalid': submittedonboardCorporateForm && onboardCorporateForm.controls['countryId'].errors }">
                    <option value="" disabled="true">Select
                      Nationality</option>
                    <option *ngFor="let country of countriesData" [value]="country.id">{{ country.name }}
                    </option>
                  </select>
                  <div *ngIf="submittedonboardCorporateForm && onboardCorporateForm.controls['countryId'].errors"
                    class="form-text text-danger">
                    <div *ngIf="onboardCorporateForm.controls['countryId'].errors['required']">
                      Nationality is required</div>
                  </div>
                </div>
              </div>

              <div class="col-lg-4 col-sm-12">
                <div class="form-group">
                  <label for="stateId" class="form-label">State*</label>
                  <select name="stateId" formControlName="stateId" id="stateId" class="form-control"
                    (change)="getLocalGovtByID()"
                    [ngClass]="{ 'is-invalid': submittedonboardCorporateForm && onboardCorporateForm.controls['stateId'].errors }">
                    <option value="" disabled="true">Select
                      State</option>
                    <option *ngFor="let state of stateData" [value]="state.id">{{ state.name }}
                    </option>
                  </select>
                  <div *ngIf="submittedonboardCorporateForm && onboardCorporateForm.controls['stateId'].errors"
                    class="form-text text-danger">
                    <div *ngIf="onboardCorporateForm.controls['stateId'].errors['required']">
                      State is required</div>
                  </div>
                </div>
              </div>

              <div class="col-lg-4 col-sm-12">
                <div class="form-group">
                  <label for="localGovtId" class="form-label">Local Goverment*</label>
                  <select name="localGovtId" formControlName="localGovtId" id="localGovtId" class="form-control"
                    [ngClass]="{ 'is-invalid': submittedonboardCorporateForm && onboardCorporateForm.controls['localGovtId'].errors }">
                    <option value="" disabled="true">Select
                      Local Goverment</option>
                    <option *ngFor="let mydata of localGovermntData" [value]="mydata.id">{{ mydata.name }}
                    </option>
                  </select>
                  <div *ngIf="submittedonboardCorporateForm && onboardCorporateForm.controls['localGovtId'].errors"
                    class="form-text text-danger">
                    <div *ngIf="onboardCorporateForm.controls['localGovtId'].errors['required']">
                      Local Goverment is required</div>
                  </div>
                </div>
              </div>

              <div class="col-lg-4 col-sm-12">
                <div class="form-group">
                  <label for="taxoffc" class="form-label">Tax Office*</label>
                  <select name="taxoffc" formControlName="taxoffc" id="taxoffc" class="form-control"
                    [ngClass]="{ 'is-invalid': submittedonboardCorporateForm && onboardCorporateForm.controls['taxoffc'].errors }">
                    <option value="" disabled="true">Select
                      Tax Office</option>
                    <option *ngFor="let mydata of taxOfficeData" [value]="mydata.id">{{ mydata.name }}
                    </option>
                  </select>
                  <div *ngIf="submittedonboardCorporateForm && onboardCorporateForm.controls['taxoffc'].errors"
                    class="form-text text-danger">
                    <div *ngIf="onboardCorporateForm.controls['taxoffc'].errors['required']">
                      Tax Office is required</div>
                  </div>
                </div>
              </div>
              <div class="col-lg-4 col-sm-12">
                <div class="mb-3">
                  <label for="dateOfBirth" class="form-label">Date
                    of Birth*</label>
                  <input type="date" name="dateOfBirth" max="01/01/2021" min="01/01/1960" formControlName="dateOfBirth"
                    id="dateOfBirth" class="form-control" (keydown)="disableDate()"
                    [ngClass]="{ 'is-invalid': submittedonboardCorporateForm && onboardCorporateForm.controls['dateOfBirth'].errors  }"
                    [max]="date" [min]="minDate" />
                  <div *ngIf="submittedonboardCorporateForm && onboardCorporateForm.controls['dateOfBirth'].errors"
                    class="form-text text-danger">
                    <div *ngIf="onboardCorporateForm.controls['dateOfBirth'].errors['required']">
                      Date of Birth is required</div>
                  </div>
                </div>
              </div>

              <div class="col-lg-4 col-sm-12">
                <div class="mb-3">
                  <label for="maritalStatus" class="form-label">Marital Status*</label>
                  <select type="text" name="maritalStatus" id="maritalStatus" formControlName="maritalStatus"
                    class="form-control"
                    [ngClass]="{ 'is-invalid': submittedonboardCorporateForm && onboardCorporateForm.controls['maritalStatus'].errors  }">
                    <option value="" disabled="true">Select Marital Status
                    </option>
                    <option *ngFor="let data of  maritalStatusData" [value]="data.id">
                      {{ data.name }}
                    </option>
                  </select>
                  <div *ngIf="submittedonboardCorporateForm && onboardCorporateForm.controls['maritalStatus'].errors"
                    class="form-text text-danger">
                    <div *ngIf="onboardCorporateForm.controls['maritalStatus'].errors['required']">
                      Marital Status is required</div>
                  </div>
                </div>
              </div>

              <div class="col-lg-4 col-sm-12">
                <div class="mb-3">
                  <label for="occupation" class="form-label">
                    Occupation*</label>

                  <select type="text" name="occupation" id="occupation" formControlName="occupation"
                    class="form-control"
                    [ngClass]="{ 'is-invalid': submittedonboardCorporateForm && onboardCorporateForm.controls['occupation'].errors  }">

                    <option value="" disabled="true">Select Occupation</option>
                    <option *ngFor="let data of occupationData" [value]="data.id">
                      {{ data.name }}
                    </option>
                  </select>
                  <div *ngIf="submittedonboardCorporateForm && onboardCorporateForm.controls['occupation'].errors"
                    class="form-text text-danger">
                    <div *ngIf="onboardCorporateForm.controls['occupation'].errors['required']">
                      Occupation is required</div>
                  </div>
                </div>
              </div>
              <div class="col-lg-4 col-sm-12" *ngIf="isRASonboarding">
                <div class="mb-3">
                  <label for="consumercategory" class="form-label">
                    Consumer Category Type*</label>
                  <select type="text" name="consumercategory" [(ngModel)]="selectedVal" id="consumercategory"
                    formControlName="consumercategory" [ngClass]="{'is-invalid':
                    submittedonboardCorporateForm && onboardCorporateForm.controls['consumercategory'].errors
                         }" class="form-control">
                    <option value="" disabled="true">Select Consumer Category Type</option>
                    <option *ngFor="let data of consumercatgryTypes" [value]="data.id">
                      {{ data.name }}
                    </option>
                  </select>
                  <div *ngIf="submittedonboardCorporateForm && onboardCorporateForm.controls['consumercategory'].errors"
                    class="form-text text-danger">
                    <div *ngIf="onboardCorporateForm.controls['consumercategory'].errors['required']">
                      Consumer Category Type is required</div>

                  </div>
                </div>
              </div>

              <div class="col-lg-4 col-sm-12">
                <div class="mb-3">
                  <label for="consumerSubcategory" class="form-label">
                    Consumer Sub-Category Type*</label>
                  <select type="text" name="consumerSubcategory" id="consumerSubcategory"
                    formControlName="consumerSubcategory" [ngClass]="{'is-invalid':
                    submittedonboardCorporateForm && onboardCorporateForm.controls['consumerSubcategory'].errors
                         }" class="form-control">
                    <option value="" disabled="true">Select Consumer Sub-Category Type</option>
                    <option *ngFor="let data of subCategory" [value]="data.id">
                      {{ data.name }}
                    </option>
                  </select>
                  <div
                    *ngIf="submittedonboardCorporateForm && onboardCorporateForm.controls['consumerSubcategory'].errors"
                    class="form-text text-danger">
                    <div *ngIf="onboardCorporateForm.controls['consumerSubcategory'].errors['required']">
                      Consumer Sub-Category Type is required</div>

                  </div>
                </div>
              </div>

              <div class="col-lg-4 col-sm-12">
                <div class="mb-3">
                  <label for="companyType" class="form-label">
                    Company Type*</label>
                  <select type="text" name="companyType" id="companyType" formControlName="companyType" [ngClass]="{'is-invalid':
                  submittedonboardCorporateForm && onboardCorporateForm.controls['companyType'].errors
                           }" class="form-control">
                    <option value="" disabled="true">Select Company Type</option>
                    <option *ngFor="let data of companyTypeData" [value]="data.id">
                      {{ data.name }}
                    </option>
                  </select>
                  <div *ngIf="submittedonboardCorporateForm && onboardCorporateForm.controls['companyType'].errors"
                    class="form-text text-danger">
                    <div *ngIf="onboardCorporateForm.controls['companyType'].errors['required']">
                      Company Type is required</div>

                  </div>
                </div>
              </div>

              <div class="col-lg-4 col-sm-12">
                <div class="mb-3">
                  <label for="industrySector" class="form-label">
                    Industry Sector*</label>
                  <select type="text" name="industrySector" id="industrySector" formControlName="industrySector"
                    [ngClass]="{'is-invalid':
                    submittedonboardCorporateForm && onboardCorporateForm.controls['industrySector'].errors
                           }" class="form-control">
                    <option value="" disabled="true">Select Industry Sector</option>
                    <option *ngFor="let data of industrySector" [value]="data.id">
                      {{ data.name }}
                    </option>
                  </select>
                  <div *ngIf="submittedonboardCorporateForm && onboardCorporateForm.controls['industrySector'].errors"
                    class="form-text text-danger">
                    <div *ngIf="onboardCorporateForm.controls['industrySector'].errors['required']">
                      Industry Sector is required</div>

                  </div>
                </div>
              </div>

              <!-- <div class="col-lg-4 col-sm-12">
                <div class="mb-3">
                  <label for="mode" class="form-label">
                    Mode*</label>
                  <select type="text" name="mode" id="mode" formControlName="mode"
                    [ngClass]="{'is-invalid':submitted && onboardCorporateForm.controls['mode'].errors }"
                    class="form-control">
                    <option value="" disabled="true">Select Mode</option>
                    <option value="NEW">NEW</option>
                    <option value="EXISTING">EXISTING</option>
                  </select>
                  <div *ngIf="submitted && onboardCorporateForm.controls['mode'].errors" class="form-text text-danger">
                    <div *ngIf="onboardCorporateForm.controls['mode'].errors['required']">
                      Mode is required</div>

                  </div>
                </div>
              </div> -->

              <div class="col-lg-4 col-sm-12">
                <div class="mb-3">
                  <label for="title" class="form-label">TIN</label>
                  <input type="text" formControlName="tin" (keypress)="keyPressNumbersWithDecimal($event)" id="tin"
                    maxlength="11" class="form-control" placeholder="Enter TIN" [ngClass]="{
                      'is-invalid':
                      submittedonboardCorporateForm && onboardCorporateForm.controls['tin'].errors
                    }" />
                  <div *ngIf="submittedonboardCorporateForm && onboardCorporateForm.controls['tin'].errors"
                    class="form-text text-danger">
                    <div *ngIf="onboardCorporateForm.controls['tin'].errors['maxlength']">
                      TIN must be at most 11 digit Long
                    </div>

                    <div *ngIf="onboardCorporateForm.controls['tin'].errors['minlength']">
                      TIN must be at least 11 digit long
                    </div>
                  </div>
                </div>
              </div>

              <div class="col-lg-4 col-sm-12">
                <div class="mb-3">
                  <label for="cacNumber" class="form-label">CAC Number*</label>
                  <input type="text" formControlName="cacNumber" id="cacNumber" maxlength="8" class="form-control"
                    placeholder="Enter CAC No. Eg:EX123456" [ngClass]="{
                            'is-invalid':
                            submittedonboardCorporateForm && onboardCorporateForm.controls['cacNumber'].errors
                          }" />
                  <div *ngIf="submittedonboardCorporateForm && onboardCorporateForm.controls['cacNumber'].errors"
                    class="form-text text-danger">
                    <div *ngIf="onboardCorporateForm.controls['cacNumber'].errors['required']">
                      CAC Number is required</div>
                    <div *ngIf="onboardCorporateForm.controls['cacNumber'].errors['maxlength']">
                      CAC Registration number can not exceed 8 characters
                    </div>

                    <div *ngIf="onboardCorporateForm.controls['cacNumber'].errors['pattern']">
                      Valid CAC Registration number required
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-lg-4 col-sm-12">
                <div class="mb-3">
                  <label for="companyName" class="form-label">Company Name*</label>
                  <input type="text" formControlName="companyName" id="companyName" class="form-control"
                    placeholder="Enter Company Name" [ngClass]="{
                            'is-invalid':
                            submittedonboardCorporateForm && onboardCorporateForm.controls['companyName'].errors
                          }" />
                  <div *ngIf="submittedonboardCorporateForm && onboardCorporateForm.controls['companyName'].errors"
                    class="form-text text-danger">
                    <div *ngIf="onboardCorporateForm.controls['companyName'].errors['required']">
                      Company Name is required</div>

                  </div>
                </div>
              </div>

              <div class="col-lg-4 col-sm-12">
                <div class="mb-3">
                  <label for="address" class="form-label">Company Address*</label>
                  <textarea type="text" formControlName="companyAddress" class="form-control" id="companyAddress"
                    rows="1" placeholder="Enter your company address"
                    [ngClass]="{ 'is-invalid': submittedonboardCorporateForm && onboardCorporateForm.controls['companyAddress'].errors }"></textarea>

                  <div *ngIf="submittedonboardCorporateForm && onboardCorporateForm.controls['companyAddress'].errors"
                    class="form-text text-danger">
                    <div *ngIf="onboardCorporateForm.controls['companyAddress'].errors['required']">
                      Company Address is required</div>
                    <div *ngIf="onboardCorporateForm.controls['companyAddress'].errors['minlength']">
                      Company Address cannot
                      contain less than 6 characters</div>
                    <div *ngIf="onboardCorporateForm.controls['companyAddress'].errors['maxlength']">
                      Company Address be more than 200 characters
                    </div>
                  </div>

                </div>
              </div>

              <div class="col-lg-4 col-sm-12">
                <div class="mb-3">
                  <label for="address" class="form-label">Address*</label>
                  <textarea type="text" formControlName="address" class="form-control" id="address" rows="1"
                    placeholder="Enter your residential address"
                    [ngClass]="{ 'is-invalid': submittedonboardCorporateForm && onboardCorporateForm.controls['address'].errors }"></textarea>

                  <div *ngIf="submittedonboardCorporateForm && onboardCorporateForm.controls['address'].errors"
                    class="form-text text-danger">
                    <div *ngIf="onboardCorporateForm.controls['address'].errors['required']">
                      Address is required</div>
                    <div *ngIf="onboardCorporateForm.controls['address'].errors['minlength']">
                      Address cannot
                      contain less than 6 characters</div>
                    <div *ngIf="onboardCorporateForm.controls['address'].errors['maxlength']">
                      Address be more than 200 characters
                    </div>
                  </div>

                </div>
              </div>


              <div class="row">
                <div class="col-lg-4 col-sm-12">
                  <div class="form-group">
                    <button class="theme_btn tp_two logo-button-website"
                      (click)="corporateOnboard(onboardCorporateForm.value)" type="submit">
                      <i class="fas fa-plus-square"></i> Onboard Consumer</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>

  <div class="modal-footer">
    <button type="button" class="btn btn-outline-dark button-login"
      (click)="modal.close('Save click');removeCheckedValues()">Close</button>
  </div>


</ng-template>
<ng-template #searchAssetModal let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title"> Search Exisiting Assets</h4>
    <button class="btn btn-sm btn-primary float-right" (click)="addNewAsset(newAssetModal)">
      <i class="fas fa-plus-square"></i> Create New Asset
    </button>

  </div>
  <div class="modal-body">
    <div class="card-body">
      <form id="smp-form" [formGroup]="searchAssetForm" autocomplete="off" class="mt-1"
        (ngSubmit)="onSubmitAsstSearch()">
        <div class="form-row">


          <div class="col-sm-4  mt-1">
            <div class="form-group">
              <select type="text" name="asset" formControlName="assetType" class="form-control"
                [ngClass]="{ 'is-invalid': submittedSearchAsset && searchAssetForm.controls['assetType'].errors }">
                <option value="" disabled="true">Select Asset Type</option>
                <option *ngFor="let mydata of assetData" [value]="mydata.name">{{ mydata.name }}
                </option>
              </select>
              <div *ngIf="submittedSearchAsset && searchAssetForm.controls['assetType'].errors"
                class="form-text text-danger">
                <div *ngIf="searchAssetForm.controls['assetType'].errors['required']">
                  Asset Type is required</div>
              </div>
            </div>
          </div>
          <div class="col-sm-4  mt-1">
            <div class="form-group">
              <input type="text" class="form-control" name="keyword" placeholder="Enter Asset Name"
                formControlName="keyword"
                [ngClass]="{ 'is-invalid': submittedSearchAsset && searchAssetForm.controls['keyword'].errors}" />

              <div *ngIf="submittedSearchAsset &amp;&amp; searchAssetForm.controls['keyword'].errors"
                class="form-text text-danger">
                <div *ngIf="searchAssetForm.controls['keyword'].errors['required']">Asset Name
                  is required</div>
              </div>
            </div>
          </div>

        </div>


        <div class="form-row">
          <div class="form-group col-md-6">
            <button type="submit" class="btn btn-primary font-12 smp-button">
              <i class="fas fa-search"></i> Search Asset
            </button>
            <button type="button" class="btn btn-primary font-12 smp-button" (click)="clearRasAssetSearch()">
              <i class="fas fa-sync-alt"></i> Clear
            </button>
          </div>
        </div>




      </form>
      <div class="card-body">
        <div class="col-auto mbm-30">
          <div class="row m-35" *ngIf="searchedAssetData">
            <div class="col-sm-4" style="z-index: 1;">
              <span>Show &nbsp; </span>
              <select (change)="setItemsPerPageRas(page.value)" #page>
                <option [selected]="currentPageRasLength == 10">10</option>
                <option [selected]="currentPageRasLength == 30">30</option>
                <option [selected]="currentPageRasLength == 50">50</option>
                <option [selected]="currentPageRasLength == 100">100</option>
                <option [selected]="currentPageRasLength == 500">500</option>
                <option [selected]="currentPageRasLength == 1000">1000</option>
              </select>
              <span> &nbsp; entries </span>
            </div>
          </div>
        </div>
        <table class="table table-bordered table-sm row-border hover mt-4 " id="example2" *ngIf="searchedAssetData"
          datatable [dtOptions]="dtOptions">
          <thead style="white-space: nowrap;">
            <tr>
              <th>S/N</th>
              <th>Asset Name</th>
              <th>Asset Reference</th>
              <th>House Number</th>
              <th>Street Name</th>
              <!-- <th>Building Name</th>
                <th>Land OwnerShip</th> -->
              <th>Action</th>
            </tr>
          </thead>
          <tbody style="white-space: nowrap;">
            <tr *ngFor="let mydata of searchedAssetData | paginate : configAsset; let i = index">
              <td> {{ configAsset.itemsPerPage * (configAsset.currentPage - 1) + i + 1 }}</td>

              <td> {{ mydata.asset_name | titlecase }} </td>
              <td> {{ mydata.asset_reference }} </td>
              <td> {{ mydata.house_number }} </td>
              <td> {{ mydata.street_name }} </td>
              <!-- <td>{{ getBuilding(mydata.building_type_id) }}</td>
                <td>{{ getLandOwner(mydata.building_type_id) }}</td> -->
              <td> <button (click)="onSelectLinkAsset(linkassetModal, mydata)" class="btn btn-sm btn-outline-success">
                  <i class="fas fa-arrow-alt-circle-up"></i> Select</button></td>
            </tr>
          </tbody>
        </table>

      </div>
      <div class="row m-0 mt-3">
        <div class="col-sm-6">
          <div id="page_info" class="record-show-text-bottom" *ngIf="searchedAssetData">
            Showing
            {{ (configAsset.currentPage - 1) * configAsset.itemsPerPage + 1 }} -
            {{ configAsset.currentPage * configAsset.itemsPerPage }} &nbsp; of
            &nbsp;{{ configAsset.totalItems }}
            &nbsp; entries
          </div>
        </div>
        <div class="col-sm-6">
          <div *ngIf="searchedAssetData">
            <pagination-controls id="assetPaging" (pageChange)="pageChange($event)" class="float-right">
            </pagination-controls>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal-footer">
    <button type="button" class="btn btn-outline-dark button-login"
      (click)="modal.close('Save click'); clickExistingAssets()">Close</button>
  </div>
</ng-template>

<ng-template #linkassetModal let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title"> Link Assets</h4>


  </div>
  <div class="modal-body">
    <div class="card-body">
      <form id="smp-form" autocomplete="off" [formGroup]="linkAssetForm">
        <div class="messages"></div>
        <div class="controls">
          <br>
          <div class="row">
            <div class="col-lg-4 col-sm-12">
              <div class="form-group">
                <label for="asset" class="form-label">Asset Type*</label>

                <input type="text" formControlName="assetType" maxlength="30" onfocus="blur();" readonly id="assetType"
                  class="form-control" placeholder="Enter Asset Type" [ngClass]="{
                            'is-invalid':
                            submittedLinkAsset && linkAssetForm.controls['assetType'].errors
                          }" />
                <div *ngIf="submittedLinkAsset && linkAssetForm.controls['assetType'].errors"
                  class="form-text text-danger">
                  <div *ngIf="linkAssetForm.controls['assetType'].errors['required']">
                    Asset Type is required</div>
                </div>
              </div>
            </div>
            <div class="col-lg-4 col-sm-12">
              <div class="form-group">
                <label for="asset" class="form-label">Asset Name*</label>

                <input type="text" formControlName="assetName" maxlength="30" onfocus="blur();" readonly id="assetType"
                  class="form-control" placeholder="Enter Asset Name" [ngClass]="{
                            'is-invalid':
                            submittedLinkAsset && linkAssetForm.controls['assetName'].errors
                          }" />
                <div *ngIf="submittedLinkAsset && linkAssetForm.controls['assetName'].errors"
                  class="form-text text-danger">
                  <div *ngIf="linkAssetForm.controls['assetName'].errors['required']">
                    Asset Name is required</div>
                </div>
              </div>
            </div>
            <div class="col-lg-4 col-sm-12">
              <div class="form-group">
                <label for="assetReference" class="form-label">Asset Reference*</label>
                <input type="text" formControlName="assetReference" id="assetReference" onfocus="blur();" readonly
                  class="form-control" placeholder="Enter Asset Reference" [ngClass]="{
                            'is-invalid':
                            submittedLinkAsset && linkAssetForm.controls['assetReference'].errors
                          }" />
                <div *ngIf="submittedLinkAsset && linkAssetForm.controls['assetReference'].errors"
                  class="form-text text-danger">
                  <div *ngIf="linkAssetForm.controls['assetReference'].errors['required']">
                    Asset Reference is required</div>
                </div>
              </div>
            </div>

            <div class="col-lg-4 col-sm-12">
              <div class="form-group">
                <label for="asset" class="form-label">House Number*</label>
                <input type="text" formControlName="houseNumber" maxlength="30" id="houseNumber" class="form-control"
                  placeholder="Enter House Number" [ngClass]="{
                            'is-invalid':
                            submittedLinkAsset && linkAssetForm.controls['houseNumber'].errors
                          }" />
                <div *ngIf="submittedLinkAsset && linkAssetForm.controls['houseNumber'].errors"
                  class="form-text text-danger">
                  <div *ngIf="linkAssetForm.controls['houseNumber'].errors['required']">
                    House Number is required</div>
                </div>
              </div>
            </div>

            <div class="col-lg-4 col-sm-12">
              <div class="form-group">
                <label for="asset" class="form-label">Street Name*</label>
                <input type="text" formControlName="streetName" maxlength="30" id="streetName" class="form-control"
                  placeholder="Enter Street Name" [ngClass]="{
                            'is-invalid':
                            submittedLinkAsset && linkAssetForm.controls['streetName'].errors
                          }" />
                <div *ngIf="submittedLinkAsset && linkAssetForm.controls['streetName'].errors"
                  class="form-text text-danger">
                  <div *ngIf="linkAssetForm.controls['streetName'].errors['required']">
                    Street Name is required</div>
                </div>
              </div>
            </div>

            <div class="col-lg-4 col-sm-12">
              <div class="form-group">
                <label for="offStreetName" class="form-label">Off Street Name</label>
                <input type="text" formControlName="offStreetName" maxlength="30" id="offStreetName"
                  class="form-control" placeholder="Enter Off Street Name" />
                <!-- <div *ngIf="submittedLinkAsset && linkAssetForm.controls['offStreetName'].errors"
                  class="form-text text-danger">
                  <div *ngIf="linkAssetForm.controls['offStreetName'].errors['required']">
                    Off Street Name is required</div>
                </div> -->
              </div>
            </div>
            <div class="col-lg-4 col-sm-12">
              <div class="form-group">
                <label for="lga" class="form-label">LGA*</label>
                <select name="lga" formControlName="lga" id="lga" class="form-control"
                  [ngClass]="{ 'is-invalid': submittedLinkAsset && linkAssetForm.controls['lga'].errors }">
                  <option value="" disabled="true">Select
                    LGA</option>
                  <option *ngFor="let mydata of localGovtData" [value]="mydata.id">{{ mydata.name }}
                  </option>
                </select>
                <div *ngIf="submittedLinkAsset && linkAssetForm.controls['lga'].errors" class="form-text text-danger">
                  <div *ngIf="linkAssetForm.controls['lga'].errors['required']">
                    LGA is required</div>
                </div>
              </div>
            </div>
            <div class="col-lg-4 col-sm-12">
              <div class="form-group">
                <label for="town" class="form-label">Town*</label>
                <select name="town" formControlName="town" id="town" class="form-control"
                  [ngClass]="{ 'is-invalid': submittedLinkAsset && linkAssetForm.controls['town'].errors }">
                  <!-- <option value="" disabled="true">Select
                    Town</option> -->
                  <option *ngFor="let mydata of townData" [value]="mydata.id">{{ mydata.name }}
                  </option>
                </select>

                <div *ngIf="submittedLinkAsset && linkAssetForm.controls['town'].errors" class="form-text text-danger">
                  <div *ngIf="linkAssetForm.controls['town'].errors['required']">
                    Town is required</div>
                </div>
              </div>
            </div>

            <div class="col-lg-4 col-sm-12">
              <div class="form-group">
                <label for="ward" class="form-label">Ward*
                </label>
                <select name="ward" formControlName="ward" id="ward" class="form-control"
                  [ngClass]="{ 'is-invalid': submittedLinkAsset && linkAssetForm.controls['ward'].errors }">
                  <!-- <option value="" disabled="true">Select
                    Ward </option> -->
                  <option *ngFor="let mydata of wardData" [value]="mydata.id">{{ mydata.name }}
                  </option>
                </select>
                <div *ngIf="submittedLinkAsset && linkAssetForm.controls['ward'].errors" class="form-text text-danger">
                  <div *ngIf="linkAssetForm.controls['ward'].errors['required']">
                    Ward is required</div>
                </div>
              </div>
            </div>

            <div class="col-lg-4 col-sm-12" *ngIf="this.selectedAssetId == 3">
              <div class="form-group">
                <label for="buildingcompletion" class="form-label">Building completion*</label>
                <select name="buildingcompletion" formControlName="buildingcompletion" id="buildingcompletion"
                  class="form-control"
                  [ngClass]="{ 'is-invalid': submittedLinkAsset && linkAssetForm.controls['buildingcompletion'].errors }">
                  <option value="" disabled="true">Select
                    Building completion</option>
                  <option *ngFor="let mydata of buildingCompletion" [value]="mydata.id">{{ mydata.name }}
                  </option>
                </select>
                <div *ngIf="submittedLinkAsset && linkAssetForm.controls['buildingcompletion'].errors"
                  class="form-text text-danger">
                  <div *ngIf="linkAssetForm.controls['buildingcompletion'].errors['required']">
                    Building completion is required</div>
                </div>
              </div>
            </div>

            <div class="col-lg-4 col-sm-12" *ngIf="this.selectedAssetId == 3">
              <div class="form-group">
                <label for="buildingPurpose" class="form-label">Building Purpose*</label>
                <select name="buildingPurpose" formControlName="buildingPurpose" id="buildingPurpose"
                  class="form-control"
                  [ngClass]="{ 'is-invalid': submittedLinkAsset && linkAssetForm.controls['buildingPurpose'].errors }">
                  <option value="" disabled="true">Select
                    Building Purpose</option>
                  <option *ngFor="let mydata of buildingPurpose" [value]="mydata.id">{{ mydata.name }}
                  </option>
                </select>
                <div *ngIf="submittedLinkAsset && linkAssetForm.controls['buildingPurpose'].errors"
                  class="form-text text-danger">
                  <div *ngIf="linkAssetForm.controls['buildingPurpose'].errors['required']">
                    Building Purpose is required</div>
                </div>
              </div>
            </div>

            <div class="col-lg-4 col-sm-12" *ngIf="this.selectedAssetId == 3">
              <div class="form-group">
                <label for="buildingOccupancy" class="form-label">Building Occupancy*</label>
                <select name="buildingOccupancy" formControlName="buildingOccupancy" id="buildingOccupancy"
                  class="form-control"
                  [ngClass]="{ 'is-invalid': submittedLinkAsset && linkAssetForm.controls['buildingOccupancy'].errors }">
                  <option value="" disabled="true">Select
                    Building Occupancy</option>
                  <option *ngFor="let mydata of buildingOccupancy" [value]="mydata.id">{{ mydata.name }}
                  </option>
                </select>
                <div *ngIf="submittedLinkAsset && linkAssetForm.controls['buildingOccupancy'].errors"
                  class="form-text text-danger">
                  <div *ngIf="linkAssetForm.controls['buildingOccupancy'].errors['required']">
                    Building Occupancy is required</div>
                </div>
              </div>
            </div>

            <div class="col-lg-4 col-sm-12" *ngIf="this.selectedAssetId == 3">
              <div class="form-group">
                <label for="buildingOwnership" class="form-label">Building Ownership*</label>
                <select name="buildingOwnership" formControlName="buildingOwnership" id="buildingOwnership"
                  class="form-control"
                  [ngClass]="{ 'is-invalid': submittedLinkAsset && linkAssetForm.controls['buildingOwnership'].errors }">
                  <option value="" disabled="true">Select
                    Building Ownership</option>
                  <option *ngFor="let mydata of buildingOwnership" [value]="mydata.id">{{ mydata.name }}
                  </option>
                </select>
                <div *ngIf="submittedLinkAsset && linkAssetForm.controls['buildingOwnership'].errors"
                  class="form-text text-danger">
                  <div *ngIf="linkAssetForm.controls['buildingOwnership'].errors['required']">
                    Building Ownership is required</div>
                </div>
              </div>
            </div>
            <div class="col-lg-4 col-sm-12" *ngIf="this.selectedAssetId == 3">
              <div class="form-group">
                <label for="buildingType" class="form-label">Building Type*</label>
                <select name="buildingType" formControlName="buildingType" id="buildingType" class="form-control"
                  [ngClass]="{ 'is-invalid': submittedLinkAsset && linkAssetForm.controls['buildingType'].errors }">
                  <option value="" disabled="true">Select
                    Building Type</option>
                  <option *ngFor="let mydata of buildingData" [value]="mydata.id">{{ mydata.name }}
                  </option>
                </select>
                <div *ngIf="submittedLinkAsset && linkAssetForm.controls['buildingType'].errors"
                  class="form-text text-danger">
                  <div *ngIf="linkAssetForm.controls['buildingType'].errors['required']">
                    Building Type is required</div>
                </div>
              </div>
            </div>


            <div class="col-lg-4 col-sm-12" *ngIf="this.selectedAssetId == 2">
              <div class="form-group">
                <label for="landPurpose" class="form-label">Land Purpose*</label>
                <select name="landPurpose" formControlName="landPurpose" id="landPurpose" class="form-control"
                  [ngClass]="{ 'is-invalid': submittedLinkAsset && linkAssetForm.controls['landPurpose'].errors }">
                  <option value="" disabled="true">Select
                    Land Purpose</option>
                  <option *ngFor="let mydata of landPurpose" [value]="mydata.id">{{ mydata.name }}
                  </option>
                </select>
                <div *ngIf="submittedLinkAsset && linkAssetForm.controls['landPurpose'].errors"
                  class="form-text text-danger">
                  <div *ngIf="linkAssetForm.controls['landPurpose'].errors['required']">
                    Land Purpose is required</div>
                </div>
              </div>
            </div>

            <div class="col-lg-4 col-sm-12" *ngIf="this.selectedAssetId == 2">
              <div class="form-group">
                <label for="landOccupancy" class="form-label">Land Occupancy*</label>
                <select name="landOccupancy" formControlName="landOccupancy" id="landOccupancy" class="form-control"
                  [ngClass]="{ 'is-invalid': submittedLinkAsset && linkAssetForm.controls['landOccupancy'].errors }">
                  <option value="" disabled="true">Select
                    Land Occupancy</option>
                  <option *ngFor="let mydata of landOccupancy" [value]="mydata.id">{{ mydata.name }}
                  </option>
                </select>
                <div *ngIf="submittedLinkAsset && linkAssetForm.controls['landOccupancy'].errors"
                  class="form-text text-danger">
                  <div *ngIf="linkAssetForm.controls['landOccupancy'].errors['required']">
                    Land Occupancy is required</div>
                </div>
              </div>
            </div>

            <div class="col-lg-4 col-sm-12" *ngIf="this.selectedAssetId == 2">
              <div class="form-group">
                <label for="landOwnership" class="form-label">Land Ownership*</label>
                <select name="landOwnership" formControlName="landOwnership" id="landOwnership" class="form-control"
                  [ngClass]="{ 'is-invalid': submittedLinkAsset && linkAssetForm.controls['landOwnership'].errors }">
                  <option value="" disabled="true">Select
                    Land Ownership</option>
                  <option *ngFor="let mydata of landOwnershipData" [value]="mydata.id">{{ mydata.name }}
                  </option>
                </select>
                <div *ngIf="submittedLinkAsset && linkAssetForm.controls['landOwnership'].errors"
                  class="form-text text-danger">
                  <div *ngIf="linkAssetForm.controls['landOwnership'].errors['required']">
                    Land Ownership is required</div>
                </div>
              </div>
            </div>
            <div class="col-lg-4 col-sm-12" *ngIf="this.selectedAssetId == 2">
              <div class="form-group">
                <label for="landAllocation" class="form-label">Land Allocation*</label>
                <select name="landAllocation" formControlName="landAllocation" id="landAllocation" class="form-control"
                  [ngClass]="{ 'is-invalid': submittedLinkAsset && linkAssetForm.controls['landAllocation'].errors }">
                  <option value="" disabled="true">Select
                    Land Allocation</option>
                  <option *ngFor="let mydata of landAllocationData" [value]="mydata.id">{{ mydata.name }}
                  </option>
                </select>
                <div *ngIf="submittedLinkAsset && linkAssetForm.controls['landAllocation'].errors"
                  class="form-text text-danger">
                  <div *ngIf="linkAssetForm.controls['landAllocation'].errors['required']">
                    Land Allocation is required</div>
                </div>
              </div>
            </div>
            <div class="col-lg-4 col-sm-12" *ngIf="this.selectedAssetId == 2">
              <div class="form-group">
                <label for="zone" class="form-label">Zone*</label>
                <select name="zone" formControlName="zone" id="zone" class="form-control"
                  [ngClass]="{ 'is-invalid': submittedLinkAsset && linkAssetForm.controls['zone'].errors }">
                  <option value="" disabled="true">Select
                    Zone</option>
                  <option *ngFor="let mydata of RasZones" [value]="mydata.id">{{ mydata.name }}
                  </option>
                </select>
                <div *ngIf="submittedLinkAsset && linkAssetForm.controls['zone'].errors" class="form-text text-danger">
                  <div *ngIf="linkAssetForm.controls['zone'].errors['required']">
                    Zone is required</div>
                </div>
              </div>
            </div>
            <!-- <div class="col-lg-4 col-sm-12">
              <div class="mb-3">
                <label for="mode" class="form-label">
                  Mode*</label>
                <select type="text" name="mode" id="mode" formControlName="mode"
                  [ngClass]="{'is-invalid':submittedLinkAsset && linkAssetForm.controls['mode'].errors }"
                  class="form-control">
                  <option value="" disabled="true">Select Mode</option>
                  <option value="NEW">NEW</option>
                  <option value="EXISTING">EXISTING</option>
                </select>
                <div *ngIf="submittedLinkAsset && linkAssetForm.controls['mode'].errors" class="form-text text-danger">
                  <div *ngIf="linkAssetForm.controls['mode'].errors['required']">
                    Mode is required</div>

                </div>
              </div>
            </div> -->
            <div class="row">
              <div class="col-lg-4 col-sm-12">
                <div class="form-group">
                  <button class="theme_btn tp_two logo-button-website" (click)="linkAsset(linkAssetForm.value)"
                    type="submit">
                    <i class="fas fa-link"></i> Link Asset</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </form>
      <!-- /.card-header -->
    </div>
  </div>

  <div class="modal-footer">
    <button type="button" class="btn btn-outline-dark button-login" (click)="modal.close('Save click')">Close</button>
  </div>
</ng-template>


<ng-template #newAssetModal let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title"> Add New Asset</h4>


  </div>
  <div class="modal-body">
    <div class="card-body">
      <form id="smp-form" autocomplete="off" [formGroup]="linkNewAssetForm">
        <div class="messages"></div>
        <div class="controls">
          <br>
          <div class="row">
            <div class="col-lg-4 col-sm-12">
              <div class="form-group">
                <label for="asset" class="form-label">Asset Type*</label>
                <select name="asset" formControlName="assetType" id="asset" class="form-control"
                  [ngClass]="{ 'is-invalid': submittedNewAsset && linkNewAssetForm.controls['assetType'].errors }">
                  <option value="" disabled="true">Select
                    Asset Type</option>
                  <option *ngFor="let mydata of assetData" [value]="mydata.id">{{ mydata.name }}
                  </option>
                </select>
                <div *ngIf="submittedNewAsset && linkNewAssetForm.controls['assetType'].errors"
                  class="form-text text-danger">
                  <div *ngIf="linkNewAssetForm.controls['assetType'].errors['required']">
                    Asset Type is required</div>
                </div>
              </div>
            </div>

            <div class="col-lg-4 col-sm-12">
              <div class="form-group">
                <label for="asset" class="form-label">Asset Name*</label>
                <input type="text" formControlName="assetName" maxlength="30" id="assetName" class="form-control"
                  placeholder="Enter Asset Name" [ngClass]="{
                            'is-invalid':
                            submittedNewAsset && linkNewAssetForm.controls['assetName'].errors
                          }" />
                <div *ngIf="submittedNewAsset && linkNewAssetForm.controls['assetName'].errors"
                  class="form-text text-danger">
                  <div *ngIf="linkNewAssetForm.controls['assetName'].errors['required']">
                    Asset Name is required</div>
                </div>
              </div>
            </div>

            <div class="col-lg-4 col-sm-12">
              <div class="form-group">
                <label for="asset" class="form-label">House Number*</label>
                <input type="text" formControlName="houseNumber" maxlength="30" id="houseNumber" class="form-control"
                  placeholder="Enter House Number" [ngClass]="{
                            'is-invalid':
                            submittedNewAsset && linkNewAssetForm.controls['houseNumber'].errors
                          }" />
                <div *ngIf="submittedNewAsset && linkNewAssetForm.controls['houseNumber'].errors"
                  class="form-text text-danger">
                  <div *ngIf="linkNewAssetForm.controls['houseNumber'].errors['required']">
                    House Number is required</div>
                </div>
              </div>
            </div>

            <div class="col-lg-4 col-sm-12">
              <div class="form-group">
                <label for="asset" class="form-label">Street Name*</label>
                <input type="text" formControlName="streetName" maxlength="30" id="streetName" class="form-control"
                  placeholder="Enter Street Name" [ngClass]="{
                            'is-invalid':
                            submittedNewAsset && linkNewAssetForm.controls['streetName'].errors
                          }" />
                <div *ngIf="submittedNewAsset && linkNewAssetForm.controls['streetName'].errors"
                  class="form-text text-danger">
                  <div *ngIf="linkNewAssetForm.controls['streetName'].errors['required']">
                    Street Name is required</div>
                </div>
              </div>
            </div>

            <div class="col-lg-4 col-sm-12">
              <div class="form-group">
                <label for="offStreetName" class="form-label">Off Street Name*</label>
                <input type="text" formControlName="offStreetName" maxlength="30" id="offStreetName"
                  class="form-control" placeholder="Enter Off Street Name" [ngClass]="{
                    'is-invalid':
                    submittedNewAsset && linkNewAssetForm.controls['offStreetName'].errors
                  }" />
                <div *ngIf="submittedNewAsset && linkNewAssetForm.controls['offStreetName'].errors"
                  class="form-text text-danger">
                  <div *ngIf="linkNewAssetForm.controls['offStreetName'].errors['required']">
                    Off Street Name is required</div>
                </div>
              </div>
            </div>

            <div class="col-lg-4 col-sm-12">
              <div class="form-group">
                <label for="lga" class="form-label">LGA*</label>
                <select name="lga" formControlName="lga" id="lga" (change)="getLgaOnChange($event)" class="form-control"
                  [ngClass]="{ 'is-invalid': submittedNewAsset && linkNewAssetForm.controls['lga'].errors }">
                  <option value="" disabled="true">Select
                    LGA</option>
                  <option *ngFor="let mydata of localGovtData" [value]="mydata.id">{{ mydata.name }}
                  </option>
                </select>
                <div *ngIf="submittedNewAsset && linkNewAssetForm.controls['lga'].errors" class="form-text text-danger">
                  <div *ngIf="linkNewAssetForm.controls['lga'].errors['required']">
                    LGA is required</div>
                </div>
              </div>
            </div>
            <div class="col-lg-4 col-sm-12">
              <div class="form-group">
                <label for="town" class="form-label">Town*</label>
                <select name="town" formControlName="town" id="town" (change)="getTownOnChange($event)"
                  class="form-control"
                  [ngClass]="{ 'is-invalid': submittedNewAsset && linkNewAssetForm.controls['town'].errors }">
                  <option value="" disabled="true">Select
                    Town</option>
                  <option *ngFor="let mydata of townsData" [value]="mydata.id">{{ mydata.name }}
                  </option>
                </select>

                <div *ngIf="submittedNewAsset && linkNewAssetForm.controls['town'].errors"
                  class="form-text text-danger">
                  <div *ngIf="linkNewAssetForm.controls['town'].errors['required']">
                    Town is required</div>
                </div>
              </div>
            </div>


            <div class="col-lg-4 col-sm-12">
              <div class="form-group">
                <label for="ward" class="form-label">Ward*
                </label>
                <select name="ward" formControlName="ward" id="ward" class="form-control"
                  [ngClass]="{ 'is-invalid': submittedNewAsset && linkNewAssetForm.controls['ward'].errors }">
                  <option value="" disabled="true">Select
                    Ward </option>
                  <option *ngFor="let mydata of wardData" [value]="mydata.id">{{ mydata.name }}
                  </option>
                </select>
                <div *ngIf="submittedNewAsset && linkNewAssetForm.controls['ward'].errors"
                  class="form-text text-danger">
                  <div *ngIf="linkNewAssetForm.controls['ward'].errors['required']">
                    Ward is required</div>
                </div>
              </div>
            </div>

            <div class="col-lg-4 col-sm-12" *ngIf="linkNewAssetForm.controls['assetType'].value == 3">
              <div class="form-group">
                <label for="buildingcompletion" class="form-label">Building completion*</label>
                <select name="buildingcompletion" formControlName="buildingcompletion" id="buildingcompletion"
                  class="form-control"
                  [ngClass]="{ 'is-invalid': submittedNewAsset && linkNewAssetForm.controls['buildingcompletion'].errors }">
                  <option value="" disabled="true">Select
                    Building completion</option>
                  <option *ngFor="let mydata of buildingCompletion" [value]="mydata.id">{{ mydata.name }}
                  </option>
                </select>
                <div *ngIf="submittedNewAsset && linkNewAssetForm.controls['buildingcompletion'].errors"
                  class="form-text text-danger">
                  <div *ngIf="linkNewAssetForm.controls['buildingcompletion'].errors['required']">
                    Building completion is required</div>
                </div>
              </div>
            </div>

            <div class="col-lg-4 col-sm-12" *ngIf="linkNewAssetForm.controls['assetType'].value == 3">
              <div class="form-group">
                <label for="buildingPurpose" class="form-label">Building Purpose*</label>
                <select name="buildingPurpose" formControlName="buildingPurpose" id="buildingPurpose"
                  class="form-control"
                  [ngClass]="{ 'is-invalid': submittedNewAsset && linkNewAssetForm.controls['buildingPurpose'].errors }">
                  <option value="" disabled="true">Select
                    Building Purpose</option>
                  <option *ngFor="let mydata of buildingPurpose" [value]="mydata.id">{{ mydata.name }}
                  </option>
                </select>
                <div *ngIf="submittedNewAsset && linkNewAssetForm.controls['buildingPurpose'].errors"
                  class="form-text text-danger">
                  <div *ngIf="linkNewAssetForm.controls['buildingPurpose'].errors['required']">
                    Building Purpose is required</div>
                </div>
              </div>
            </div>

            <div class="col-lg-4 col-sm-12" *ngIf="linkNewAssetForm.controls['assetType'].value == 3">
              <div class="form-group">
                <label for="buildingOccupancy" class="form-label">Building Occupancy*</label>
                <select name="buildingOccupancy" formControlName="buildingOccupancy" id="buildingOccupancy"
                  class="form-control"
                  [ngClass]="{ 'is-invalid': submittedNewAsset && linkNewAssetForm.controls['buildingOccupancy'].errors }">
                  <option value="" disabled="true">Select
                    Building Occupancy</option>
                  <option *ngFor="let mydata of buildingOccupancy" [value]="mydata.id">{{ mydata.name }}
                  </option>
                </select>
                <div *ngIf="submittedNewAsset && linkNewAssetForm.controls['buildingOccupancy'].errors"
                  class="form-text text-danger">
                  <div *ngIf="linkNewAssetForm.controls['buildingOccupancy'].errors['required']">
                    Building Occupancy is required</div>
                </div>
              </div>
            </div>

            <div class="col-lg-4 col-sm-12" *ngIf="linkNewAssetForm.controls['assetType'].value == 3">
              <div class="form-group">
                <label for="buildingOwnership" class="form-label">Building Ownership*</label>
                <select name="buildingOwnership" formControlName="buildingOwnership" id="buildingOwnership"
                  class="form-control"
                  [ngClass]="{ 'is-invalid': submittedNewAsset && linkNewAssetForm.controls['buildingOwnership'].errors }">
                  <option value="" disabled="true">Select
                    Building Ownership</option>
                  <option *ngFor="let mydata of buildingOwnership" [value]="mydata.id">{{ mydata.name }}
                  </option>
                </select>
                <div *ngIf="submittedNewAsset && linkNewAssetForm.controls['buildingOwnership'].errors"
                  class="form-text text-danger">
                  <div *ngIf="linkNewAssetForm.controls['buildingOwnership'].errors['required']">
                    Building Ownership is required</div>
                </div>
              </div>
            </div>
            <div class="col-lg-4 col-sm-12" *ngIf="linkNewAssetForm.controls['assetType'].value == 3">
              <div class="form-group">
                <label for="buildingType" class="form-label">Building Type*</label>
                <select name="buildingType" formControlName="buildingType" id="buildingType" class="form-control"
                  [ngClass]="{ 'is-invalid': submittedNewAsset && linkNewAssetForm.controls['buildingType'].errors }">
                  <option value="" disabled="true">Select
                    Building Type</option>
                  <option *ngFor="let mydata of buildingData" [value]="mydata.id">{{ mydata.name }}
                  </option>
                </select>
                <div *ngIf="submittedNewAsset && linkNewAssetForm.controls['buildingType'].errors"
                  class="form-text text-danger">
                  <div *ngIf="linkNewAssetForm.controls['buildingType'].errors['required']">
                    Building Type is required</div>
                </div>
              </div>
            </div>


            <div class="col-lg-4 col-sm-12" *ngIf="linkNewAssetForm.controls['assetType'].value == 2">
              <div class="form-group">
                <label for="landPurpose" class="form-label">Land Purpose*</label>
                <select name="landPurpose" formControlName="landPurpose" id="landPurpose" class="form-control"
                  [ngClass]="{ 'is-invalid': submittedNewAsset && linkNewAssetForm.controls['landPurpose'].errors }">
                  <option value="" disabled="true">Select
                    Land Purpose</option>
                  <option *ngFor="let mydata of landPurpose" [value]="mydata.id">{{ mydata.name }}
                  </option>
                </select>
                <div *ngIf="submittedNewAsset && linkNewAssetForm.controls['landPurpose'].errors"
                  class="form-text text-danger">
                  <div *ngIf="linkNewAssetForm.controls['landPurpose'].errors['required']">
                    Land Purpose is required</div>
                </div>
              </div>
            </div>

            <div class="col-lg-4 col-sm-12" *ngIf="linkNewAssetForm.controls['assetType'].value == 2">
              <div class="form-group">
                <label for="landOccupancy" class="form-label">Land Occupancy*</label>
                <select name="landOccupancy" formControlName="landOccupancy" id="landOccupancy" class="form-control"
                  [ngClass]="{ 'is-invalid': submittedNewAsset && linkNewAssetForm.controls['landOccupancy'].errors }">
                  <option value="" disabled="true">Select
                    Land Occupancy</option>
                  <option *ngFor="let mydata of landOccupancy" [value]="mydata.id">{{ mydata.name }}
                  </option>
                </select>
                <div *ngIf="submittedNewAsset && linkNewAssetForm.controls['landOccupancy'].errors"
                  class="form-text text-danger">
                  <div *ngIf="linkNewAssetForm.controls['landOccupancy'].errors['required']">
                    Land Occupancy is required</div>
                </div>
              </div>
            </div>

            <div class="col-lg-4 col-sm-12" *ngIf="linkNewAssetForm.controls['assetType'].value == 2">
              <div class="form-group">
                <label for="landOwnership" class="form-label">Land Ownership*</label>
                <select name="landOwnership" formControlName="landOwnership" id="landOwnership" class="form-control"
                  [ngClass]="{ 'is-invalid': submittedNewAsset && linkNewAssetForm.controls['landOwnership'].errors }">
                  <option value="" disabled="true">Select
                    Land Ownership</option>
                  <option *ngFor="let mydata of landOwnershipData" [value]="mydata.id">{{ mydata.name }}
                  </option>
                </select>
                <div *ngIf="submittedNewAsset && linkNewAssetForm.controls['landOwnership'].errors"
                  class="form-text text-danger">
                  <div *ngIf="linkNewAssetForm.controls['landOwnership'].errors['required']">
                    Land Ownership is required</div>
                </div>
              </div>
            </div>
            <div class="col-lg-4 col-sm-12" *ngIf="linkNewAssetForm.controls['assetType'].value == 2">
              <div class="form-group">
                <label for="landAllocation" class="form-label">Land Allocation*</label>
                <select name="landAllocation" formControlName="landAllocation" id="landAllocation" class="form-control"
                  [ngClass]="{ 'is-invalid': submittedNewAsset && linkNewAssetForm.controls['landAllocation'].errors }">
                  <option value="" disabled="true">Select
                    Land Allocation</option>
                  <option *ngFor="let mydata of landAllocationData" [value]="mydata.id">{{ mydata.name }}
                  </option>
                </select>
                <div *ngIf="submittedNewAsset && linkNewAssetForm.controls['landAllocation'].errors"
                  class="form-text text-danger">
                  <div *ngIf="linkNewAssetForm.controls['landAllocation'].errors['required']">
                    Land Allocation is required</div>
                </div>
              </div>
            </div>
            <div class="col-lg-4 col-sm-12" *ngIf="linkNewAssetForm.controls['assetType'].value == 2">
              <div class="form-group">
                <label for="zone" class="form-label">Zone*</label>
                <select name="zone" formControlName="zone" id="zone" class="form-control"
                  [ngClass]="{ 'is-invalid': submittedNewAsset && linkNewAssetForm.controls['zone'].errors }">
                  <option value="" disabled="true">Select
                    Zone</option>
                  <option *ngFor="let mydata of RasZones" [value]="mydata.id">{{ mydata.name }}
                  </option>
                </select>
                <div *ngIf="submittedNewAsset && linkNewAssetForm.controls['zone'].errors"
                  class="form-text text-danger">
                  <div *ngIf="linkNewAssetForm.controls['zone'].errors['required']">
                    Zone is required</div>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-lg-4 col-sm-12">
                <div class="form-group">
                  <button class="theme_btn tp_two logo-button-website" (click)="createAsset(linkNewAssetForm.value)"
                    type="submit">
                    <i class="fas fa-link"></i> Create Asset</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </form>
      <!-- /.card-header -->
    </div>
  </div>

  <div class="modal-footer">
    <button type="button" class="btn btn-outline-dark button-login" (click)="modal.close('Save click')">Close</button>
  </div>
</ng-template>